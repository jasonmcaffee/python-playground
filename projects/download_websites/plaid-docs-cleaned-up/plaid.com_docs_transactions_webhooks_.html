<body><h1>transactions webhooks </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Transactions webhooks</h1><h4>Listen for Transaction webhooks to learn when transactions are ready for retrieval or when transactions have been updated.</h4><div></div></div></div></div><a href="/docs/transactions/webhooks/#introduction"><h4>Introduction<span data-algolia="linkedHeadingAnchor" id="introduction"></span></h4></a><p>Webhooks are a useful part of the Transactions product that notifies you when Plaid has new or updated transaction information. This guide will explain how to use webhooks to make sure you have up-to-date transaction history.</p><a href="/docs/transactions/webhooks/#configuring-link-for-transactions-webhooks"><h4>Configuring Link for transactions webhooks<span data-algolia="linkedHeadingAnchor" id="configuring-link-for-transactions-webhooks"></span></h4></a><p>Before you can listen to webhooks, you must first set up an endpoint and tell Plaid where to find it.
To tell Plaid where to send its webhooks, send your webhook endpoint URL as an optional argument via the
<code>webhook</code> parameter to <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a>.</p><p>You must also initialize your Item with Transactions by including <code>transactions</code> in the <code>products</code> array provided to <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a>. If you do not do this, Plaid will not attempt to retrieve any transactions for your Item until after <a href="/docs/api/products/transactions/#transactionssync"><code>/transactions/sync</code></a> or <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> is called for the first time. For more information, see <a href="/docs/link/initializing-products/">Choosing when to initialize products</a>.</p><a href="/docs/transactions/webhooks/#integrating-the-update-notification-webhook"><h4>Integrating the update notification webhook<span data-algolia="linkedHeadingAnchor" id="integrating-the-update-notification-webhook"></span></h4></a><p>After <a href="/docs/api/products/transactions/#transactionssync"><code>/transactions/sync</code></a> is called for the first time on an Item, <a href="https://plaid.com/docs/api/products/transactions/#sync_updates_available" rel="nofollow noopener noreferrer" target="_blank"><code>SYNC_UPDATES_AVAILABLE</code></a> webhooks will begin to be sent to the configured destination endpoint.</p><p>This webhook will fire whenever any change has happened to the Item's transactions. The changes can then be retrieved by calling <a href="/docs/api/products/transactions/#transactionssync"><code>/transactions/sync</code></a> with the <code>cursor</code> from your last sync call to this Item. </p><p>If at least 30 days of history is available with an update, the <code>initial_update_complete</code> parameter in the body of the <code>SYNC_UPDATES_AVAILABLE</code> webhook will be <code>true</code>. Similarly, <code>historical_update_complete</code> will be <code>true</code> if the full history (up to 24 months) is available.</p><p>For a real-life example that illustrates how to handle this webhook, see <a href="https://github.com/plaid/pattern/blob/master/server/webhookHandlers/handleTransactionsWebhook.js" rel="nofollow noopener noreferrer" target="_blank">handleTransactionsWebhook.js</a>, which contains the webhook handling code for the Node-based <a href="https://github.com/plaid/pattern" rel="nofollow noopener noreferrer" target="_blank">Plaid Pattern</a> app.</p><a href="/docs/transactions/webhooks/#forcing-transactions-refresh"><h4>Forcing transactions refresh<span data-algolia="linkedHeadingAnchor" id="forcing-transactions-refresh"></span></h4></a><p>Sometimes, checking for transactions a few times a day is not good enough. For example, you might want to build a refresh button in your app that allows your user to check for updated transactions on-demand. To accomplish this, you can use the <a href="/docs/api/products/transactions/#transactionsrefresh"><code>/transactions/refresh</code></a> product. After a successful call to <a href="/docs/api/products/transactions/#transactionsrefresh"><code>/transactions/refresh</code></a>, if there are new updates, <code>SYNC_UPDATES_AVAILABLE</code> will be fired (along with <code>DEFAULT_UPDATE</code> and, if applicable, <code>TRANSACTIONS_REMOVED</code>).</p><a href="/docs/transactions/webhooks/#instructions-for-integrations-using-transactionsget"><h4>Instructions for integrations using /transactions/get<span data-algolia="linkedHeadingAnchor" id="instructions-for-integrations-using-transactionsget"></span></h4></a><div><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12.75 16h-1.5v-5h1.5zM12 8a1 1 0 101 1 1 1 0 00-1-1zm8.75 4A8.75 8.75 0 1012 20.75 8.77 8.77 0 0020.75 12zm-1.5 0A7.25 7.25 0 1112 4.75 7.26 7.26 0 0119.25 12z" fill="currentColor"></path></svg></i><div><p>The content in this section and below applies only to existing integrations using the <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> endpoint. It is recommended that any new integrations use <a href="/docs/api/products/transactions/#transactionssync"><code>/transactions/sync</code></a> instead of <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a>, for easier and simpler handling of transaction state changes. For information on migrating an existing <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> integration to <a href="/docs/api/products/transactions/#transactionssync"><code>/transactions/sync</code></a>, see the <a href="/docs/transactions/sync-migration/">Transactions Sync migration guide</a>.</p></div></div><p>When you first connect an Item in Link, transactions data will not immediately be available. <a href="/docs/api/products/transactions/#initial_update"><code>INITIAL_UPDATE</code></a>
and <a href="/docs/api/products/transactions/#historical_update"><code>HISTORICAL_UPDATE</code></a> are both webhooks that fire shortly after an Item has been initially linked
and initialized with the Transactions product. These webhooks will let you know when your transactions
are ready. <code>INITIAL_UPDATE</code> fires first, after Plaid has successfully pulled 30 days of transactions for an Item.
The <code>HISTORICAL_UPDATE</code> webhook fires next, once all historical transactions data is available. <code>INITIAL_UPDATE</code> typically fires within 10 seconds, and <code>HISTORICAL_UPDATE</code> within 1 minute, although these webhooks may take 2 minutes or more. The time required for the webhooks to fire will depend on the institution, as well as on the number of transactions being processed.</p><p>If you attempt to call <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> before <code>INITIAL_UPDATE</code> has fired, you will get a
<a href="/docs/errors/item/#product_not_ready"><code>PRODUCT_NOT_READY</code></a> error. If you attempt to call <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> after <code>INITIAL_UPDATE</code>
has fired, but before <code>HISTORICAL_UPDATE</code> has fired, you will only be able to receive the last 30 days of
transaction data. If you did not initialize the Item with Transactions, your first call to <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a>
will result in a <code>PRODUCT_NOT_READY</code> error and kick off the process of readying transactions. You can then
listen for the <code>INITIAL_UPDATE</code> or <code>HISTORICAL_UPDATE</code> webhooks to begin receiving transactions.</p><p><strong>Updating transactions</strong></p><p>Plaid fires two types of webhooks that provide information about changes to transaction data: <a href="/docs/api/products/transactions/#default_update"><code>DEFAULT_UPDATE</code></a> and <a href="/docs/api/products/transactions/#transactions_removed"><code>TRANSACTIONS_REMOVED</code></a>.</p><p><strong>Adding new transactions</strong></p><p>The <a href="/docs/api/products/transactions/#default_update"><code>DEFAULT_UPDATE</code></a> webhook fires when new transactions are available. Typically, Plaid will check for transactions once every 6 hours, but may check less frequently (such as once every 24 hours) depending on factors such as the institution and account type. If new transactions are available, the <code>DEFAULT_UPDATE</code> webhook will fire.</p><p>To reflect up-to-date transactions for a user in your app, handle the <code>DEFAULT_UPDATE</code> webhook by fetching more transactions. We recommend fetching about 7-14 days of transactions in response to <code>DEFAULT_UPDATE</code>. This is typically enough history to ensure that you haven't missed any transactions, but not so much that performance or rate limiting is likely to be a problem.</p><p>Once you've fetched these transactions, you will need to identify which transactions are new and which are duplicates of existing data that you have. You should not rely on the number in the webhook's <code>new_transactions</code> field to identify duplicates, since it can be unreliable. For example, new transactions may arrive between your receipt of the webhook and your call to <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a>. Instead, compare the <code>transaction_id</code> field of each newly fetched transaction to the <code>transaction_id</code> fields of your existing transactions, and skip the ones that you already have. For an example, see <a href="https://github.com/plaid/pattern/blob/master/server/webhookHandlers/handleTransactionsWebhook.js#L176" rel="nofollow noopener noreferrer" target="_blank">Plaid Pattern</a>.</p><p><strong>Removing stale transactions</strong></p><p>The <a href="/docs/api/products/transactions/#transactions_removed"><code>TRANSACTIONS_REMOVED</code></a> webhook fires when transactions have been removed. The most common reason for this is in the case of pending transactions. In general, transactions start out as pending transactions and then move to the posted state one to two business days later. When Plaid detects that a transaction has moved from pending to posted state, the pending transaction as returned by <a href="/docs/api/products/transactions/#transactionsget"><code>/transactions/get</code></a> is not modified. Instead, the pending transaction is removed, and a new transaction is added, representing the posted transaction. For a detailed explanation of pending and posted transactions and how they are handled by Plaid, see <a href="/docs/transactions/transactions-data/">Transaction states</a>.</p><p>Pending transactions can also be removed when they are canceled by the bank or payment processor. A transaction may be removed if its details are changed by the bank so extensively that Plaid can no longer recognize the new and old versions of the transaction as being the same (e.g., a transaction amount and description both being changed simultaneously). In this case, the old transaction will be deleted and a new transaction with the new details will be added. This "transaction churn" can affect both pending and posted transactions.</p><p>The <code>TRANSACTIONS_REMOVED</code> webhook contains the transaction IDs of the removed transactions, which you can use to identify and remove the corresponding transactions in your own application to avoid presenting duplicated or inaccurate data. If you encounter any problems with the webhook, you can also manually query transaction history for deleted transactions using logic similar to that recommended for handling the <code>DEFAULT_UPDATE</code> webhook.</p></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><div id="batBeacon127643489844"><img alt="" height="0" id="batBeacon663214181255" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=f8546e1a-4cce-44da-9847-b6b364b5e431&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Transactions%20-%20Transactions%20webhooks%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;r=&amp;lt=465&amp;evt=pageLoad&amp;sv=1&amp;rn=3317" width="0"/><img alt="" height="0" id="batBeacon804242038295" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=f8546e1a-4cce-44da-9847-b6b364b5e431&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=59881" width="0"/></div><div>
</div><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=5dce3f26-e3eb-4b41-86e9-09dee19f51a0&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=14327ae2-716e-4ea4-9f77-34844431a512&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=5dce3f26-e3eb-4b41-86e9-09dee19f51a0&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=14327ae2-716e-4ea4-9f77-34844431a512&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=d0eeead8-6ad3-443b-b25a-d27cbfdfb277&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=14327ae2-716e-4ea4-9f77-34844431a512&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=d0eeead8-6ad3-443b-b25a-d27cbfdfb277&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=14327ae2-716e-4ea4-9f77-34844431a512&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransactions%2Fwebhooks%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/></body>