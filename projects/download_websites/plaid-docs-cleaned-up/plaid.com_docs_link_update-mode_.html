<body><h1>link update mode </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Updating Items via Link</h1><h4>Use update mode to add permissions to Items, or to resolve ITEM_LOGIN_REQUIRED or PAYMENT_PROFILE_LOGIN_REQUIRED statuses</h4><div></div></div></div></div><div><img alt="image of Plaid Link update mode flow" height="" src="/_next/image?url=/assets/img/docs/update-mode-flow.png&amp;w=1920&amp;q=75" width="624"/></div><a href="/docs/link/update-mode/#when-to-use-update-mode"><h4>When to use update mode<span data-algolia="linkedHeadingAnchor" id="when-to-use-update-mode"></span></h4></a><p>Update mode is used to update authentication or authorization for an Item. The most common reason for this is when access to an existing Item stops working: if the end user changes a password, if multi-factor authentication (MFA) requirements change, or if the login becomes locked. An Item can also require its authentication to be refreshed with update mode if it was only authorized for a limited amount of time and the authorization has expired or is nearing expiration, which can happen to Items from institutions that use <a href="https://plaid.com/docs/link/oauth/#introduction-to-oauth" rel="nofollow noopener noreferrer" target="_blank">OAuth flows</a> in Plaid Link. </p><p>Update mode can also be used to request permission to access data that the user did not originally grant during the initial link flow. This can include specific OAuth permissions, or access to new accounts or additional product scopes. Update mode can be used to manage <a href="https://plaid.com/docs/link/oauth/#partial-consent" rel="nofollow noopener noreferrer" target="_blank">permissions granted via OAuth</a>, as well as permissions granted directly through Plaid via <a href="/docs/link/account-select-v2-migration-guide/">Account Select</a> or the opt-in <a href="/docs/link/data-transparency-messaging-migration-guide/">Data Transparency Messaging beta</a>.</p><div><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12.75 16h-1.5v-5h1.5zM12 8a1 1 0 101 1 1 1 0 00-1-1zm8.75 4A8.75 8.75 0 1012 20.75 8.77 8.77 0 0020.75 12zm-1.5 0A7.25 7.25 0 1112 4.75 7.26 7.26 0 0119.25 12z" fill="currentColor"></path></svg></i><div><p>Beginning in April 2023, existing Items at institutions that use OAuth, that are not currently using <a href="/docs/link/account-select-v2-migration-guide/">Account Select v2</a>, will use Account Select v2 when the update mode flow is completed for that Item. </p></div></div><a href="/docs/link/update-mode/#resolving-item_login_required-or-pending_expiration-errors"><h5>Resolving ITEM_LOGIN_REQUIRED or PENDING_EXPIRATION errors<span data-algolia="linkedHeadingAnchor" id="resolving-item_login_required-or-pending_expiration-errors"></span></h5></a><p>Receiving an <a href="/docs/errors/item/#item_login_required"><code>ITEM_LOGIN_REQUIRED</code></a> error or a <a href="/docs/api/items/#pending_expiration"><code>PENDING_EXPIRATION</code></a> webhook indicates that the Item should be re-initialized via update mode.</p><p>If you receive the <code>ITEM_LOGIN_REQUIRED</code> error after calling a Plaid endpoint, implement Link in update mode during the user flow, and ask the user to re-authenticate before proceeding to the next step in your flow. </p><p>If you receive the <code>ITEM_LOGIN_REQUIRED</code> error via the <a href="/docs/api/items/#error"><code>ITEM: ERROR</code></a> webhook, or if you receive the <a href="/docs/api/items/#pending_expiration"><code>PENDING_EXPIRATION</code></a> webhook, re-authenticate with Link in update mode when the user is next in your app. You will need to tell your user (using in-app messaging and/or notifications such as email or text message) to return to your app to fix their Item.</p><p>When resolving these errors, for most institutions, Plaid will present an abbreviated re-authentication flow requesting only the minimum user input required to repair the Item. For example, if the Item entered an error state because the user's OTP token expired, the user may be prompted to provide another OTP token, but not to fully re-login to the institution.</p><a href="/docs/link/update-mode/#resolving-payment_profile_login_required-authorization-decision-rationale"><h5>Resolving PAYMENT_PROFILE_LOGIN_REQUIRED authorization decision rationale<span data-algolia="linkedHeadingAnchor" id="resolving-payment_profile_login_required-authorization-decision-rationale"></span></h5></a><p>Receiving the <a href="/docs/api/products/transfer/#transfer-authorization-create-response-authorization-decision-rationale-code"><code>PAYMENT_PROFILE_LOGIN_REQUIRED</code></a> authorization decision rationale from the <a href="/docs/api/products/transfer/#transferauthorizationcreate"><code>/transfer/authorization/create</code></a> response indicates that the bank login for this Payment Profile has expired.</p><p>Ask the user to re-authenticate with Link in <a href="/docs/link/update-mode/#using-update-mode-for-payment-profiles">Payment Profile update mode</a>, which will prompt the user to re-login and return the Payment Profile into a good state for subsequent transfers.</p><a href="/docs/link/update-mode/#requesting-additional-permissions"><h5>Requesting additional permissions<span data-algolia="linkedHeadingAnchor" id="requesting-additional-permissions"></span></h5></a><p>Update mode can also be used to collect additional permissions.</p><p>If using <a href="/docs/link/customization/#account-select">Account Select v2</a>, you can use update mode to request your users to share new accounts with you. Receiving a <a href="/docs/api/items/#new_accounts_available"><code>NEW_ACCOUNTS_AVAILABLE</code></a> webhook indicates that Plaid has detected new accounts that you may want to ask your users to share.</p><p>If using <a href="/docs/link/data-transparency-messaging-migration-guide/">Data Transparency Messaging</a>, update mode can be used to request permissions for additional product scopes.</p><p>Triggering update mode for an OAuth institution will cause the user to re-enter the OAuth flow. They can then grant any required OAuth permissions they failed to grant originally, or restore OAuth permissions they may have revoked. The update mode flow for OAuth institutions will also contain guidance recommending which permissions the user should grant: for more details, see the <a href="/docs/link/oauth/#partial-consent">OAuth documentation</a>.</p><div><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12.75 16h-1.5v-5h1.5zM12 8a1 1 0 101 1 1 1 0 00-1-1zm8.75 4A8.75 8.75 0 1012 20.75 8.77 8.77 0 0020.75 12zm-1.5 0A7.25 7.25 0 1112 4.75 7.26 7.26 0 0119.25 12z" fill="currentColor"></path></svg></i><div><p>  When an Item is sent through update mode, users can also choose to revoke access they had previously granted. If you lose access to necessary accounts or OAuth permissions after the user completes the update mode flow, you may need to send the user through update mode again. For more details, see <a href="/docs/link/oauth/#managing-consent-revocation">Managing consent revocation</a>.</p></div></div><a href="/docs/link/update-mode/#using-update-mode"><h4>Using update mode<span data-algolia="linkedHeadingAnchor" id="using-update-mode"></span></h4></a><p>To use update mode for an Item, initialize Link with a <code>link_token</code> configured with the <code>access_token</code> for the Item that you wish to update. Note that no products should be specified when creating a <code>link_token</code> for update mode, unless you are using update mode to <a href="/docs/link/update-mode/#requesting-additional-consent-for-assets-or-bank-income">add Assets or Income</a>. You can obtain a <code>link_token</code> using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint.</p><p>If you're using update mode to refresh an OAuth institution, ensure you configure the Link token with a redirect URI, as described in <a href="https://plaid.com/docs/link/oauth/#configure-your-link-token-with-your-redirect-uri" rel="nofollow noopener noreferrer" target="_blank">Configure your Link token with your redirect URI</a>.</p><span id="content-switcher-unique-id-145">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-145" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label> </label><div><div><div><div><button aria-controls="dropdown-unique-id-146" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-146" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Create a one-time use link_token for the Item.</span><span></span></div><div><span>2</span><span></span><span>// This link_token can be used to initialize Link</span><span></span></div><div><span>3</span><span></span><span>// in update mode for the user</span><span></span></div><div><span>4</span><span></span><span>const</span><span> configs </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>  user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>    client_user_id</span><span>:</span><span> </span><span>'UNIQUE_USER_ID'</span><span>,</span><span></span></div><div><span>7</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>8</span><span>  client_name</span><span>:</span><span> </span><span>'Your App Name Here'</span><span>,</span><span></span></div><div><span>9</span><span>  country_codes</span><span>:</span><span> </span><span>[</span><span>CountryCode</span><span>.</span><span>Us</span><span>]</span><span>,</span><span></span></div><div><span>10</span><span>  language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>11</span><span>  webhook</span><span>:</span><span> </span><span>'https://webhook.sample.com'</span><span>,</span><span></span></div><div><span>12</span><span>  access_token</span><span>:</span><span> </span><span>'ENTER_YOUR_ACCESS_TOKEN_HERE'</span><span>,</span><span></span></div><div><span>13</span><span></span><span>}</span><span>;</span><span></span></div><div><span>14</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/create_link_token'</span><span>,</span><span> </span><span>async</span><span> </span><span>(</span><span>request</span><span>,</span><span> response</span><span>,</span><span> next</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>15</span><span>  </span><span>const</span><span> linkTokenResponse </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>configs</span><span>)</span><span>;</span><span></span></div><div><span>16</span><span></span></div><div><span>17</span><span>  </span><span>// Use the link_token to initialize Link</span><span></span></div><div><span>18</span><span>  response</span><span>.</span><span>json</span><span>(</span><span>{</span><span> link_token</span><span>:</span><span> linkTokenResponse</span><span>.</span><span>data</span><span>.</span><span>link_token</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>19</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div></div><p>Link auto-detects the appropriate institution and handles the credential and multi-factor authentication process, if needed.</p><p>An Item's <code>access_token</code> does not change when using Link in update mode, so there is no need to repeat the exchange token process.</p><div role="group"><div><label> </label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Initialize Link with the token parameter</span><span></span></div><div><span>2</span><span></span><span>// set to the generated link_token for the Item</span><span></span></div><div><span>3</span><span></span><span>const</span><span> linkHandler </span><span>=</span><span> </span><span>Plaid</span><span>.</span><span>create</span><span>(</span><span>{</span><span></span></div><div><span>4</span><span>  token</span><span>:</span><span> </span><span>'GENERATED_LINK_TOKEN'</span><span>,</span><span></span></div><div><span>5</span><span>  </span><span>onSuccess</span><span>:</span><span> </span><span>(</span><span>public_token</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>    </span><span>// You do not need to repeat the /item/public_token/exchange</span><span></span></div><div><span>7</span><span>    </span><span>// process when a user uses Link in update mode.</span><span></span></div><div><span>8</span><span>    </span><span>// The Item's access_token has not changed.</span><span></span></div><div><span>9</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>10</span><span>  </span><span>onExit</span><span>:</span><span> </span><span>(</span><span>err</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>11</span><span>    </span><span>// The user exited the Link flow.</span><span></span></div><div><span>12</span><span>    </span><span>if</span><span> </span><span>(</span><span>err </span><span>!=</span><span> </span><span>null</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>      </span><span>// The user encountered a Plaid API error prior</span><span></span></div><div><span>14</span><span>      </span><span>// to exiting.</span><span></span></div><div><span>15</span><span>    </span><span>}</span><span></span></div><div><span>16</span><span>    </span><span>// metadata contains the most recent API request ID and the</span><span></span></div><div><span>17</span><span>    </span><span>// Link session ID. Storing this information is helpful</span><span></span></div><div><span>18</span><span>    </span><span>// for support.</span><span></span></div><div><span>19</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>20</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><p>Link will automatically detect the institution ID associated with the <code>link_token</code> and present the appropriate credential view to your user.</p><div><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12.75 16h-1.5v-5h1.5zM12 8a1 1 0 101 1 1 1 0 00-1-1zm8.75 4A8.75 8.75 0 1012 20.75 8.77 8.77 0 0020.75 12zm-1.5 0A7.25 7.25 0 1112 4.75 7.26 7.26 0 0119.25 12z" fill="currentColor"></path></svg></i><div><p>If your integration is still using a <code>public_token</code> to open Link in update mode, see the <a href="/docs/link/link-token-migration-guide/">migration guide</a> to upgrade to <code>link_tokens</code>. You can also see the <a href="/docs/link/maintain-legacy-integration/">maintenance guide</a> to troubleshoot any <code>public_token</code> issues.</p></div></div><p>When an Item is restored from the <code>ITEM_LOGIN_REQUIRED</code> state via update mode, if it has been initialized with a product that sends Item webhooks (such as Transactions or Investments), the next webhook fired for the Item will include data for all missed information back to the last time Plaid made a successful connection to the Item.</p><a href="/docs/link/update-mode/#using-update-mode-to-request-new-accounts"><h5>Using update mode to request new accounts<span data-algolia="linkedHeadingAnchor" id="using-update-mode-to-request-new-accounts"></span></h5></a><p>You can allow end users to <a href="/docs/link/update-mode/#account-selection-screens-in-update-mode">add new accounts</a> to an Item by enabling Account Select when initializing Link in update mode. To do so, first initialize Link for update mode by creating a <code>link_token</code> using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint. For OAuth institutions, ensure you configure the Link token with a redirect URI, as described in <a href="https://plaid.com/docs/link/oauth/#configure-your-link-token-with-your-redirect-uri" rel="nofollow noopener noreferrer" target="_blank">Configure your Link token with your redirect URI</a>.</p><p>In addition, make sure you specify the following:</p><ol><li><p>The <code>update.account_selection_enabled</code> flag set to true. To ensure you are able to use this flag, check that your Plaid library meets the <a href="/docs/link/account-select-v2-migration-guide/#minimum-version-for-account-select-update-mode">minimum version required</a>.</p></li><li><p>A <code>link_customization_name</code> for a customization that enables Account Select v2. The settings on this customization will determine which View Behavior for the Account Select pane is shown in update flow.</p></li><li><p>(Optional) Any <code>account_filters</code> to specify <a href="/docs/api/tokens/#link-token-create-request-account-filters">account filtering</a>. Note that this field cannot be set for update mode if account selection isn’t enabled.
Once your user has updated their account selection, all selected accounts will be shared in the
<a href="https://plaid.com/docs/link/web/#link-web-onsuccess-metadata-accounts" rel="nofollow noopener noreferrer" target="_blank"><code>accounts</code></a> field in the
<a href="https://plaid.com/docs/link/web/#onsuccess" rel="nofollow noopener noreferrer" target="_blank"><code>onSuccess()</code></a> callback from Link. Any de-selected accounts will no longer be shared with you. You will only be able to receive data for these accounts the user selects in update mode going forward.</p></li></ol><p>This update mode flow can also be used to remove accounts from an Item. We recommend that you remove any data associated with accounts that your user has de-selected. Note that Chase is an exception to the ability to remove accounts via update mode; to remove access to a specific account on a Chase Item, the end user must do so through the online Chase Security Center.</p><div role="group"><div><label>Example /link/token/create call to request new accounts in update mode</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>curl</span><span> -X POST https://sandbox.plaid.com/link/token/create </span><span>\</span><span></span></div><div><span>2</span><span>-H </span><span>'Content-Type: application/json'</span><span> </span><span>\</span><span></span></div><div><span>3</span><span>-d </span><span>'{</span></div><div><span>4</span><span>  "client_id": "CLIENT_ID",</span></div><div><span>5</span><span>  "secret": "SECRET",</span></div><div><span>6</span><span>  "client_name": "My App",</span></div><div><span>7</span><span>  "user": { "client_user_id": "UNIQUE_USER_ID" },</span></div><div><span>8</span><span>  "country_codes": ["US"],</span></div><div><span>9</span><span>  "language": "en",</span></div><div><span>10</span><span>  "webhook": "https://webhook.sample.com",</span></div><div><span>11</span><span>  "access_token": "ENTER_YOUR_ACCESS_TOKEN",</span></div><div><span>12</span><span>  "link_customization_name": "account_selection_v2_customization",</span></div><div><span>13</span><span>  "update": { "account_selection_enabled": true }</span></div><div><span>14</span><span>}'</span></div></code></pre></div></div></div><p>When using the Assets product specifically, if a user selects additional accounts during update mode but does not successfully complete the Link flow, Assets authorization will be revoked from the Item. If this occurs, have the user go through a new Link flow in order to generate an Asset Report, or, if you have Data Transparency Messaging enabled, use update mode to re-authorize the Item for assets, as described in the next section.</p><a href="/docs/link/update-mode/#using-update-mode-to-request-additional-consent-for-products"><h5>Using update mode to request additional consent for products<span data-algolia="linkedHeadingAnchor" id="using-update-mode-to-request-additional-consent-for-products"></span></h5></a><p>You will need to use update mode to request additional consent for products in the following situations: if you are adding Assets or Income, or if you are using Data Transparency Messaging.</p><h6 id="requesting-additional-consent-for-assets-or-bank-income">Requesting additional consent for Assets or Bank Income</h6><p>Because Assets and Income may be used for underwriting use cases, they require additional user consent. To add Assets or Income to an Item that did not previously have those products enabled, you will need to send the user through update mode. </p><p>The process to do this is the same as described in <a href="/docs/link/update-mode/#using-update-mode">Using update mode</a>, except that you will also include the <code>products</code> array in the request with the value <code>assets</code> or <code>income</code> for the product you wish to add.</p><p>If the user connected their account less than two years ago, they can bypass the Link credentials pane and complete just the consent panes. Otherwise, they will be prompted to complete the full flow.</p><h6 id="requesting-additional-consent-for-data-transparency-messaging">Requesting additional consent for Data Transparency Messaging</h6><p>If you have <a href="https://plaid.com/docs/link/data-transparency-messaging-migration-guide" rel="nofollow noopener noreferrer" target="_blank">Data Transparency Messaging</a> enabled, you need user consent to access new products. To do so, first initialize Link for update mode by creating a <code>link_token</code> using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint. For OAuth institutions, ensure you configure the Link token with a redirect URI, as described in <a href="https://plaid.com/docs/link/oauth/#configure-your-link-token-with-your-redirect-uri" rel="nofollow noopener noreferrer" target="_blank">Configure your Link token with your redirect URI</a>.</p><p>In addition, make sure you specify the following:</p><ul><li>The <code>additional_consented_products</code> field should be set to include <strong>any new products you want to gather consent for.</strong><ul><li>For example, if Link was initialized with just Transactions and you want to upgrade to Identity, you would pass in <code>identity</code> to the <code>additional_consented_products</code> field.</li><li>To see the currently authorized and consented products on an Item, use the <a href="/docs/api/items/#itemget"><code>/item/get</code></a> endpoint</li></ul></li><li>The <code>link_customization_name</code> should be set to a customization with Data Transparency Messaging enabled. The use case string should also be broadened to include your reasons for accessing the new data. If the use case is not customized, the default use case will be present on the Data Transparency Messaging pane.</li></ul><p>If the upgrade was successful, you will receive the <code>onSuccess()</code> callback and you will have access to the API endpoints for all of the products you passed into Link update mode. The new products will only be billed once the related API endpoints are called, even if they would otherwise be billed upon Item initialization (e.g., Transactions).</p><a href="/docs/link/update-mode/#using-update-mode-for-payment-profiles"><h5>Using update mode for Payment Profiles<span data-algolia="linkedHeadingAnchor" id="using-update-mode-for-payment-profiles"></span></h5></a><p>To use update mode for Transfer's Payment Profile, initialize Link by creating a <code>link_token</code> using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint with <code>transfer.payment_profile_token</code> configured for the Payment Profile you intend to update.</p><p>In addition, make sure you specify the following:</p><ul><li>The <code>products</code> field should not be supplied.</li><li>The <code>user</code> object should have no phone number field supplied.</li></ul><div role="group"><div><label>Example /link/token/create call to create a Payment Profile update mode link token</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>curl</span><span> -X POST https://sandbox.plaid.com/link/token/create </span><span>\</span><span></span></div><div><span>2</span><span>-H </span><span>'Content-Type: application/json'</span><span> </span><span>\</span><span></span></div><div><span>3</span><span>-d </span><span>'{</span></div><div><span>4</span><span>  "client_id": "CLIENT_ID",</span></div><div><span>5</span><span>  "secret": "SECRET",</span></div><div><span>6</span><span>  "client_name": "My App",</span></div><div><span>7</span><span>  "user": { "client_user_id": "UNIQUE_USER_ID" },</span></div><div><span>8</span><span>  "country_codes": ["US"],</span></div><div><span>9</span><span>  "language": "en",</span></div><div><span>10</span><span>  "transfer": { "payment_profile_token": "PAYMENT_PROFILE_TOKEN" }</span></div><div><span>11</span><span>}'</span></div></code></pre></div></div></div><p>Payment Profile update mode will prompt the user to log in to their financial institution in order to re-authenticate their previously linked account. If the user does not complete the Payment Profile update mode flow, you will have to <a href="/docs/transfer/add-to-app/#create-a-payment-profile-optional">create a new Payment Profile</a> for the user.</p><p>After the user successfully logs back in, you can call <a href="/docs/api/products/transfer/#transferauthorizationcreate"><code>/transfer/authorization/create</code></a> to determine transfer failure risk.</p><a href="/docs/link/update-mode/#testing-update-mode"><h4>Testing update mode<span data-algolia="linkedHeadingAnchor" id="testing-update-mode"></span></h4></a><p>Update mode can be tested in the Sandbox using the <a href="/docs/api/sandbox/#sandboxitemreset_login"><code>/sandbox/item/reset_login</code></a> endpoint, which will force a given Item into an <code>ITEM_LOGIN_REQUIRED</code> state.</p><a href="/docs/link/update-mode/#testing-payment-profile-update-mode"><h5>Testing Payment Profile update mode<span data-algolia="linkedHeadingAnchor" id="testing-payment-profile-update-mode"></span></h5></a><p>Transfer specific Payment Profile update mode can be tested in Sandbox using the <a href="/docs/api/sandbox/#sandboxpayment_profilereset_login"><code>/sandbox/payment_profile/reset_login</code></a> endpoint, which will force a Payment Profile into a state where the login is no longer valid. Subsequent calls with the Payment Profile to <a href="/docs/api/products/transfer/#transferauthorizationcreate"><code>/transfer/authorization/create</code></a> will result in the <a href="/docs/api/products/transfer/#transfer-authorization-create-response-authorization-decision-rationale-code"><code>PAYMENT_PROFILE_LOGIN_REQUIRED</code></a> decision rationale getting returned.</p><a href="/docs/link/update-mode/#example-react-code-in-plaid-pattern"><h4>Example React code in Plaid Pattern<span data-algolia="linkedHeadingAnchor" id="example-react-code-in-plaid-pattern"></span></h4></a><p>For a real-life example that illustrates the handling of update mode, see <a href="https://github.com/plaid/pattern/blob/master/server/routes/linkTokens.js#L30-L35" rel="nofollow noopener noreferrer" target="_blank">linkTokens.js</a> and <a href="https://github.com/plaid/pattern/blob/master/client/src/components/LaunchLink.tsx#L42-L46" rel="nofollow noopener noreferrer" target="_blank">LaunchLink.tsx</a>. These files contain the Link update mode code for the React-based <a href="https://github.com/plaid/pattern" rel="nofollow noopener noreferrer" target="_blank">Plaid Pattern</a> sample app.</p><a href="/docs/link/update-mode/#related-errors-and-rationale"><h4>Related errors and rationale<span data-algolia="linkedHeadingAnchor" id="related-errors-and-rationale"></span></h4></a><p>Below is a list of errors that you may encounter in update mode or that may cause you to launch the update mode flow:</p><ul><li><a href="/docs/errors/item/#item_login_required"><code>ITEM_LOGIN_REQUIRED</code></a> – This error suggest the financial institution indicated that the user's password or MFA information has changed. They will need to reauthenticate via Link's update mode.</li><li><a href="/docs/errors/item/#invalid_updated_username"><code>INVALID_UPDATED_USERNAME</code></a> – This error indicates the username associated with an item is no longer valid.</li><li><a href="/docs/api/products/transfer/#transfer-authorization-create-response-authorization-decision-rationale-code"><code>PAYMENT_PROFILE_LOGIN_REQUIRED</code></a> - This rationale indicates that the financial institution login for the Payment Profile is expired.</li></ul><a href="/docs/link/update-mode/#account-selection-screens-in-update-mode"><h4>Account selection screens in update mode<span data-algolia="linkedHeadingAnchor" id="account-selection-screens-in-update-mode"></span></h4></a><p>To demonstrate the user experience of various update mode flows, below are screenshots of update mode that correspond to different Account Select V2 settings.</p><div></div><div></div><div></div></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><div id="batBeacon522519304089"><img alt="" height="0" id="batBeacon391798937790" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=5005776c-c255-4e15-85b7-933b957f34d4&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Link%20-%20Update%20mode%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;r=&amp;lt=434&amp;evt=pageLoad&amp;sv=1&amp;rn=359751" width="0"/><img alt="" height="0" id="batBeacon661473704874" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=5005776c-c255-4e15-85b7-933b957f34d4&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=638278" width="0"/></div><div>
</div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=83f227b1-c466-4dda-a8cc-b9c0c5e20297&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=47ccee32-ba63-4359-804f-6918b439c6fb&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=83f227b1-c466-4dda-a8cc-b9c0c5e20297&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=47ccee32-ba63-4359-804f-6918b439c6fb&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=03a5f651-7b0b-4e13-88a1-2e29bd396214&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=47ccee32-ba63-4359-804f-6918b439c6fb&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=03a5f651-7b0b-4e13-88a1-2e29bd396214&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=47ccee32-ba63-4359-804f-6918b439c6fb&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fupdate-mode%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe></body>