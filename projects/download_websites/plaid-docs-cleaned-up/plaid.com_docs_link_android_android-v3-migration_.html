<body><h1>link android android v3 migration </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>2.x to 3.x Migration Guide</h1><h4>Reference for migrating the Link Android SDK from 2.x to 3.x</h4><div></div></div></div></div><a href="/docs/link/android/android-v3-migration/#summary-of-changes"><h4>Summary of changes<span data-algolia="linkedHeadingAnchor" id="summary-of-changes"></span></h4></a><p>Plaid released the Android 3.0.0 SDK on September 20th, 2020. Upgrading to the new 3.x SDK allows you
to take advantage of a unified mobile API and support all new features. This article provides a guide on how to
upgrade a Plaid integration from the Android 2.x SDK to the 3.x SDK.</p><a href="/docs/link/android/android-v3-migration/#remove-initialize"><h4>Remove initialize<span data-algolia="linkedHeadingAnchor" id="remove-initialize"></span></h4></a><div role="group"><div><label>Remove Initialize</label><div><div><div><div><button aria-controls="dropdown-unique-id-177" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="false" data-popper-placement="top" data-popper-reference-hidden="false" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-177" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>Plaid</span><span>.</span><span>initialize</span><span>(</span><span>this</span><span>)</span></div></code></pre></div></div></div><p>Is no longer part of the API and can be removed.</p><a href="/docs/link/android/android-v3-migration/#opening-link"><h4>Opening Link<span data-algolia="linkedHeadingAnchor" id="opening-link"></span></h4></a><a href="/docs/link/android/android-v3-migration/#creating-configuration"><h5>Creating Configuration<span data-algolia="linkedHeadingAnchor" id="creating-configuration"></span></h5></a><table><thead><tr><th>2.x.x</th><th>3.x.x</th></tr></thead><tbody><tr><td><code>com.plaid.link.configuration.LinkConfiguration</code></td><td><code>com.plaid.link.configuration.LinkPublicKeyConfiguration</code></td></tr><tr><td><code>LinkPublicKeyConfiguration</code>.<code>paymentToken</code></td><td>Use the <code>LinkPublicKeyConfiguration</code>.<code>token</code> field instead</td></tr><tr><td><code>com.plaid.link.configuration.AccountSubtype</code></td><td><code>com.plaid.link.result.LinkAccountSubtype</code></td></tr><tr><td><code>com.plaid.link.configuration.AccountType</code></td><td><code>com.plaid.link.result.LinkAccountType</code></td></tr><tr><td><code>PlaidEnvironment</code></td><td>deprecated</td></tr><tr><td><code>PlaidProduct</code></td><td>deprecated</td></tr></tbody></table><div role="group"><div><label>openLinkMigration</label><div><div><div><div><button aria-controls="dropdown-unique-id-178" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-178" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>val linkTokenConfiguration </span><span>=</span><span> linkTokenConfiguration </span><span>{</span><span></span></div><div><span>2</span><span>  token </span><span>=</span><span> </span><span>"LINK_TOKEN_FROM_SERVER"</span><span></span></div><div><span>3</span><span>  logLevel </span><span>=</span><span> </span><span>if</span><span> </span><span>(</span><span>BuildConfig</span><span>.</span><span>DEBUG</span><span>)</span><span> </span><span>LinkLogLevel</span><span>.</span><span>VERBOSE</span><span> </span><span>else</span><span> </span><span>LinkLogLevel</span><span>.</span><span>ERROR</span><span></span></div><div><span>4</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/link/android/android-v3-migration/#plaidhandler"><h5>PlaidHandler<span data-algolia="linkedHeadingAnchor" id="plaidhandler"></span></h5></a><p>Create a <code>PlaidHandler</code> - A <code>PlaidHandler</code> is a one-time use object used to open a Link session.
It should be created as early as possible, since it must be completed before Link opens, and
if delayed until just before Link opening it can have a perceptible impact on Link startup time.</p><div role="group"><div><label>openLinkHandlerMigration</label><div><div><div><div><button aria-controls="dropdown-unique-id-179" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-179" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>val plaidHandler</span><span>:</span><span> </span><span>PlaidHandler</span><span> </span><span>=</span><span> </span><span>Plaid</span><span>.</span><span>create</span><span>(</span><span>application</span><span>,</span><span> linkTokenConfiguration</span><span>)</span></div></code></pre></div></div></div><a href="/docs/link/android/android-v3-migration/#opening-link-1"><h5>Opening Link<span data-algolia="linkedHeadingAnchor" id="opening-link-1"></span></h5></a><p>We've removed the <code>openLink</code> functions on the <code>Plaid</code> object as well as the Kotlin
extension functions for <code>Activity</code> and <code>Fragment</code>.</p><div role="group"><div><label>Remove openLink</label><div><div><div><div><button aria-controls="dropdown-unique-id-180" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-180" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>Plaid</span><span>.</span><span>openLink</span><span>(</span><span>activity</span><span>,</span><span> configuration</span><span>)</span></div></code></pre></div></div></div><div role="group"><div><label>Remove openPlaidLink from Fragment</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>this</span><span>@</span><span>MyActivity</span><span>.</span><span>openPlaidLink</span><span>(</span><span>configuration</span><span>)</span></div></code></pre></div></div></div><div role="group"><div><label>Remove openPlaidLink from Fragment</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>this</span><span>@</span><span>MyFragment</span><span>.</span><span>openPlaidLink</span><span>(</span><span>configuration</span><span>)</span></div></code></pre></div></div></div><p>Instead you will need to call <code>open</code> on the <code>PlaidHandler</code> you created, passing in
an <code>Activity</code> or <code>Fragment</code>.</p><div role="group"><div><label>PlaidHandler open</label><div><div><div><div><button aria-controls="dropdown-unique-id-181" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-181" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>plaidHandler</span><span>.</span><span>open</span><span>(</span><span>activity</span><span>)</span></div></code></pre></div></div></div><a href="/docs/link/android/android-v3-migration/#handling-results"><h4>Handling Results<span data-algolia="linkedHeadingAnchor" id="handling-results"></span></h4></a><a href="/docs/link/android/android-v3-migration/#linkresulthandler"><h5>LinkResultHandler<span data-algolia="linkedHeadingAnchor" id="linkresulthandler"></span></h5></a><p><code>com.plaid.link.result.PlaidLinkResultHandler</code> has been renamed to
<code>com.plaid.link.result.LinkResultHandler</code></p><a href="/docs/link/android/android-v3-migration/#linksuccessmetadata"><h5>LinkSuccessMetadata<span data-algolia="linkedHeadingAnchor" id="linksuccessmetadata"></span></h5></a><p><code>LinkSuccessMetadata.rawMetadata</code> renamed to <code>LinkSuccessMetadata.metadata</code></p><a href="/docs/link/android/android-v3-migration/#linkaccount"><h5><code>LinkAccount</code><span data-algolia="linkedHeadingAnchor" id="linkaccount"></span></h5></a><p>Fields renamed</p><ul><li><code>accountId</code> -&gt; <code>id</code></li><li><code>accountName</code> -&gt; <code>name</code></li><li><code>accountNumber</code> -&gt; <code>mask</code></li><li><code>accountSubtype</code> -&gt; <code>subtype</code> also type changed from <code>String</code> to <code>com.plaid.link.result.LinkAccountSubtype</code></li><li><code>accountType</code> has been removed, it is now a <code>com.plaid.link.result.LinkAccountType</code> object within <code>LinkAccountSubtype</code></li></ul><div role="group"><div><label> </label><div><div><div><div><button aria-controls="dropdown-unique-id-182" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-182" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>private</span><span> val linkResultHandler </span><span>=</span><span> </span><span>LinkResultHandler</span><span>(</span><span></span></div><div><span>2</span><span>  </span><span>// ...</span><span></span></div><div><span>3</span><span>  onSuccess </span><span>=</span><span> </span><span>{</span><span> it</span><span>:</span><span> </span><span>LinkSuccess</span><span> </span><span>-</span><span>&gt;</span><span></span></div><div><span>4</span><span>    </span><span>// Send public_token to your server, exchange for access_token</span><span></span></div><div><span>5</span><span>    val publicToken </span><span>=</span><span> it</span><span>.</span><span>publicToken</span><span></span></div><div><span>6</span><span>    val metadata </span><span>=</span><span> it</span><span>.</span><span>metadata</span><span></span></div><div><span>7</span><span>    metadata</span><span>.</span><span>accounts</span><span>.</span><span>forEach</span><span> </span><span>{</span><span> account </span><span>-</span><span>&gt;</span><span></span></div><div><span>8</span><span>      val accountId </span><span>=</span><span> account</span><span>.</span><span>id</span><span></span></div><div><span>9</span><span>      val accountName </span><span>=</span><span> account</span><span>.</span><span>name</span><span></span></div><div><span>10</span><span>      val accountMask </span><span>=</span><span> account</span><span>.</span><span>mask</span><span></span></div><div><span>11</span><span>      val accountSubType </span><span>=</span><span> account</span><span>.</span><span>subtype</span><span></span></div><div><span>12</span><span>    </span><span>}</span><span></span></div><div><span>13</span><span>    val institutionId </span><span>=</span><span> metadata</span><span>.</span><span>institution</span><span>?</span><span>.</span><span>id</span><span></span></div><div><span>14</span><span>    val institutionName </span><span>=</span><span> metadata</span><span>.</span><span>institution</span><span>?</span><span>.</span><span>name</span><span></span></div><div><span>15</span><span>  </span><span>}</span><span></span></div><div><span>16</span><span></span><span>)</span></div></code></pre></div></div></div><a href="/docs/link/android/android-v3-migration/#linkerror"><h5><code>LinkError</code><span data-algolia="linkedHeadingAnchor" id="linkerror"></span></h5></a><ul><li><code>errorCode</code> has been typed as an <code>ErrorCode</code> object</li><li><code>errorType</code> has been removed from <code>LinkError</code> and added to the <code>ErrorCode</code> object</li><li><code>errorJson</code> field has been added with raw JSON from server</li></ul><a href="/docs/link/android/android-v3-migration/#linkexitmetadata"><h5><code>LinkExitMetadata</code><span data-algolia="linkedHeadingAnchor" id="linkexitmetadata"></span></h5></a><ul><li><code>institutionId</code> and <code>institutionName</code> moved into <code>institution</code> which is a <code>LinkInstitution</code> and renamed to <code>id</code> and <code>name</code> object</li><li><code>exitStatus</code> removed</li><li><code>metadataJson</code> field has been added with raw JSON from server</li></ul><div role="group"><div><label> </label><div><div><div><div><button aria-controls="dropdown-unique-id-183" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Kotlin</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-183" role="menu"><ul><li><button aria-current="true" label="Kotlin" type="button" value="kotlin"><span><span>Kotlin</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>private</span><span> val linkResultHandler </span><span>=</span><span> </span><span>LinkResultHandler</span><span>(</span><span></span></div><div><span>2</span><span>  </span><span>// ...</span><span></span></div><div><span>3</span><span>  onExit </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    val error </span><span>=</span><span> it</span><span>.</span><span>error</span><span></span></div><div><span>5</span><span>    error</span><span>?</span><span>.</span><span>let</span><span> </span><span>{</span><span> error </span><span>-</span><span>&gt;</span><span></span></div><div><span>6</span><span>      val errorCode </span><span>=</span><span> error</span><span>.</span><span>errorCode</span><span></span></div><div><span>7</span><span>      val errorType </span><span>=</span><span> error</span><span>.</span><span>errorCode</span><span>.</span><span>errorType</span><span></span></div><div><span>8</span><span>      val errorMessage </span><span>=</span><span> error</span><span>.</span><span>errorMessage</span><span></span></div><div><span>9</span><span>      val displayMessage </span><span>=</span><span> error</span><span>.</span><span>displayMessage</span><span></span></div><div><span>10</span><span>    </span><span>}</span><span></span></div><div><span>11</span><span>    val metadata </span><span>=</span><span> it</span><span>.</span><span>metadata</span><span></span></div><div><span>12</span><span>    val institutionId </span><span>=</span><span> metadata</span><span>.</span><span>institution</span><span>?</span><span>.</span><span>id</span><span></span></div><div><span>13</span><span>    val institutionName </span><span>=</span><span> metadata</span><span>.</span><span>institution</span><span>?</span><span>.</span><span>name</span><span></span></div><div><span>14</span><span>    val linkSessionId </span><span>=</span><span> metadata</span><span>.</span><span>linkSessionId</span><span>;</span><span></span></div><div><span>15</span><span>    val requestId </span><span>=</span><span> metadata</span><span>.</span><span>requestId</span><span>;</span><span></span></div><div><span>16</span><span>  </span><span>}</span><span></span></div><div><span>17</span><span></span><span>)</span></div></code></pre></div></div></div><a href="/docs/link/android/android-v3-migration/#handling-events"><h4>Handling Events<span data-algolia="linkedHeadingAnchor" id="handling-events"></span></h4></a><p><code>LinkEventMetadata</code> <code>metadataJson</code> added with raw JSON from server</p><a href="/docs/link/android/android-v3-migration/#exceptions"><h2>Exceptions<span data-algolia="linkedHeadingAnchor" id="exceptions"></span></h2></a><p>All exceptions moved from <code>com.plaid.link.internal.exceptions</code> to <code>com.plaid.link.exceptions</code></p></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe><div id="batBeacon439482939467"><img alt="" height="0" id="batBeacon396102079326" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=ba7669a8-6ce0-440d-b206-56c68191d533&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Link%20-%202.x%20to%203.x%20migration%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;r=&amp;lt=834&amp;evt=pageLoad&amp;sv=1&amp;rn=10556" width="0"/><img alt="" height="0" id="batBeacon660816862820" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=ba7669a8-6ce0-440d-b206-56c68191d533&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=185476" width="0"/></div><div>
</div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=8f4ae464-d9c4-436b-828f-30fb40cf42e7&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=5235136a-3c51-46a4-9e60-a44aa1af3906&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=8f4ae464-d9c4-436b-828f-30fb40cf42e7&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=5235136a-3c51-46a4-9e60-a44aa1af3906&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=b1ad4d51-f334-4bc7-a197-d64dbb7371e6&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=5235136a-3c51-46a4-9e60-a44aa1af3906&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=b1ad4d51-f334-4bc7-a197-d64dbb7371e6&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=5235136a-3c51-46a4-9e60-a44aa1af3906&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Flink%2Fandroid%2Fandroid-v3-migration%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/></body>