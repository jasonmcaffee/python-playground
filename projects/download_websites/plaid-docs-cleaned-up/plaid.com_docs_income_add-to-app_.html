<body><h1>income add to app </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Add Income to your app</h1><h4>Use Income to fetch income information about your users</h4><div></div></div></div></div><p>This guide will walk you through how to use <a href="/docs/api/products/income/">Income</a> to retrieve information about your users' current sources of income.</p><a href="/docs/income/add-to-app/#get-plaid-api-keys-and-complete-application-and-company-profile"><h4>Get Plaid API keys and complete application and company profile<span data-algolia="linkedHeadingAnchor" id="get-plaid-api-keys-and-complete-application-and-company-profile"></span></h4></a><p>If you don't already have one, <a href="https://dashboard.plaid.com/signup" rel="nofollow noopener noreferrer" target="_blank">create a Plaid developer account</a>. After creating your account, you can find your <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">API keys</a> under the Team Settings menu on the Plaid Dashboard.</p><p>You also need to complete your <a href="https://dashboard.plaid.com/settings/company/app-branding" rel="nofollow noopener noreferrer" target="_blank">application profile</a> and <a href="https://dashboard.plaid.com/settings/company/profile" rel="nofollow noopener noreferrer" target="_blank">company profile</a> in the Dashboard if you wish to retrieve real data in Production. The information in your profile will be shared with users of your application when they manage their connection on the <a href="https://my.plaid.com" rel="nofollow noopener noreferrer" target="_blank">Plaid Portal</a>, and must be completed before connecting to certain institutions.</p><a href="/docs/income/add-to-app/#install-and-initialize-plaid-libraries"><h4>Install and initialize Plaid libraries<span data-algolia="linkedHeadingAnchor" id="install-and-initialize-plaid-libraries"></span></h4></a><p>You can use our official server-side client libraries to connect to the Plaid API from your application:</p><span id="content-switcher-unique-id-92">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-92" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>Terminal</label><div><div><div><div><button aria-controls="dropdown-unique-id-93" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-93" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Install via npm</span><span></span></div><div><span>2</span><span>npm install </span><span>--</span><span>save plaid</span></div></code></pre></div></div></div></div><p>After you've installed Plaid's client libraries, you can initialize them by passing in your <code>client_id</code>, <code>secret</code>, and the environment you wish to connect to (Sandbox, Development, or Production). This will make sure the client libraries pass along your <code>client_id</code> and <code>secret</code> with each request, and you won't need to explicitly include them in any other calls.</p><p>In the code samples below, you will need to replace <code>PLAID_CLIENT_ID</code> and <code>PLAID_SECRET</code> with your own keys, which you can obtain from the <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">Dashboard</a>. These code samples also demonstrate starting up a server commonly used in each framework (such as Express or Flask).</p><span id="content-switcher-unique-id-94">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-94" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>server.js</label><div><div><div><div><button aria-controls="dropdown-unique-id-95" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-95" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Using Express</span><span></span></div><div><span>2</span><span></span><span>const</span><span> express </span><span>=</span><span> </span><span>require</span><span>(</span><span>'express'</span><span>)</span><span>;</span><span></span></div><div><span>3</span><span></span><span>const</span><span> app </span><span>=</span><span> </span><span>express</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>4</span><span>app</span><span>.</span><span>use</span><span>(</span><span>express</span><span>.</span><span>json</span><span>(</span><span>)</span><span>)</span><span>;</span><span></span></div><div><span>5</span><span></span></div><div><span>6</span><span></span><span>const</span><span> </span><span>{</span><span> </span><span>Configuration</span><span>,</span><span> </span><span>PlaidApi</span><span>,</span><span> </span><span>PlaidEnvironments</span><span> </span><span>}</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>'plaid'</span><span>)</span><span>;</span><span></span></div><div><span>7</span><span></span></div><div><span>8</span><span></span><span>const</span><span> configuration </span><span>=</span><span> </span><span>new</span><span> </span><span>Configuration</span><span>(</span><span>{</span><span></span></div><div><span>9</span><span>  basePath</span><span>:</span><span> </span><span>PlaidEnvironments</span><span>.</span><span>sandbox</span><span>,</span><span></span></div><div><span>10</span><span>  baseOptions</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>11</span><span>    headers</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>      </span><span>'PLAID-CLIENT-ID'</span><span>:</span><span> process</span><span>.</span><span>env</span><span>.</span><span>PLAID_CLIENT_ID</span><span>,</span><span></span></div><div><span>13</span><span>      </span><span>'PLAID-SECRET'</span><span>:</span><span> process</span><span>.</span><span>env</span><span>.</span><span>PLAID_SECRET</span><span>,</span><span></span></div><div><span>14</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>15</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>16</span><span></span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>17</span><span></span></div><div><span>18</span><span></span><span>const</span><span> client </span><span>=</span><span> </span><span>new</span><span> </span><span>PlaidApi</span><span>(</span><span>configuration</span><span>)</span><span>;</span></div></code></pre></div></div></div></div><a href="/docs/income/add-to-app/#create-a-user-token"><h4>Create a User Token<span data-algolia="linkedHeadingAnchor" id="create-a-user-token"></span></h4></a><p>Unlike many other Plaid products, where you start by creating <code>Items</code> to represent user connections with individual banks, with Income you first start by creating a <code>user_token</code> that represents an individual user. As you add various sources of income, those will all be associated with this single <code>user_token</code>, which allows you to receive consolidated income from different sources by requesting an income report for that <code>user_token</code>.</p><p>To create a <code>user_token</code>, make a call to the <a href="/docs/api/products/income/#usercreate"><code>/user/create</code></a> endpoint. This endpoint requires a unique <code>client_user_id</code> value to represent the current user. Typically, this value is the same identifier you're using in your own application to represent the currently signed-in user. This call will return a randomly-generated string for the <code>user_token</code> as well as a separate user ID that Plaid includes in webhooks to represent this user.</p><p>You can only create one <code>user_token</code> per <code>client_user_id</code>. If you try to create a <code>user_token</code> with a <code>client_user_id</code> that you have previously sent to Plaid, you will receive an error.</p><p>Depending on your application, you might wish to create this <code>user_token</code> as soon as your user creates an account, or right before they begin the process of confirming their income data with you.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>const</span><span> </span><span>{</span><span> </span><span>IdentityGetRequest</span><span> </span><span>}</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>'plaid'</span><span>)</span><span>;</span><span></span></div><div><span>2</span><span></span></div><div><span>3</span><span></span><span>// Pull Identity data for an Item</span><span></span></div><div><span>4</span><span></span><span>const</span><span> request</span><span>:</span><span> </span><span>IdentityGetRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>  access_token</span><span>:</span><span> accessToken</span><span>,</span><span></span></div><div><span>6</span><span></span><span>}</span><span>;</span><span></span></div><div><span>7</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>identityGet</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>9</span><span>  </span><span>const</span><span> identities </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>accounts</span><span>.</span><span>flatMap</span><span>(</span><span></span></div><div><span>10</span><span>    </span><span>(</span><span>account</span><span>)</span><span> </span><span>=&gt;</span><span> account</span><span>.</span><span>owners</span><span>,</span><span></span></div><div><span>11</span><span>  </span><span>)</span><span>;</span><span></span></div><div><span>12</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>  </span><span>// handle error</span><span></span></div><div><span>14</span><span></span><span>}</span><span></span></div><div><span>15</span><span></span></div><div><span>16</span><span></span><span>// The userId here represents the user's internal user ID with your</span><span></span></div><div><span>17</span><span></span><span>// application</span><span></span></div><div><span>18</span><span></span><span>const</span><span> </span><span>createUserToken</span><span> </span><span>=</span><span> </span><span>async</span><span> </span><span>(</span><span>userId</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>19</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>userCreate</span><span>(</span><span>{</span><span></span></div><div><span>20</span><span>    client_user_id</span><span>:</span><span> userId</span><span>,</span><span></span></div><div><span>21</span><span>  </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>22</span><span>  </span><span>const</span><span> newUserToken </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>user_token</span><span>;</span><span></span></div><div><span>23</span><span>  </span><span>const</span><span> userIdForWebhooks </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>user_id</span><span>;</span><span></span></div><div><span>24</span><span>  </span><span>await</span><span> </span><span>updateUserRecordWithIncomeInfo</span><span>(</span><span>userId</span><span>,</span><span> newUserToken</span><span>,</span><span> userIdForWebhooks</span><span>)</span><span>;</span><span></span></div><div><span>25</span><span></span><span>}</span><span>;</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#decide-what-income-verification-methods-you-want-to-support"><h4>Decide what income verification method(s) you want to support<span data-algolia="linkedHeadingAnchor" id="decide-what-income-verification-methods-you-want-to-support"></span></h4></a><p>Income supports three different ways that a user can verify their sources of income.</p><ul><li><em>Payroll Income</em> allows Plaid to retrieve information such as recent pay stubs and W-2 forms directly from the user's payroll provider. This tends to provide the most comprehensive data, but is dependent upon the user being able to sign in with their payroll provider.</li><li><em>Document Income</em> allows the user to upload images of income-related documents (such as pay stubs and W-2 forms), which Plaid can scan and interpret for you.</li><li><em>Bank Income</em> allows the user to connect with their bank to identify deposits that represent sources of income.</li></ul><p>Depending on which methods you want to support (and it's perfectly acceptable to support all three), you will need to implement slightly different processes. While you can collect Payroll and Document Income in the same Link flow, you cannot collect Payroll or Document Income in the same Link flow as Bank Income.</p><a href="/docs/income/add-to-app/#fetching-payroll-or-document-income-data"><h3>Fetching Payroll or Document Income data<span data-algolia="linkedHeadingAnchor" id="fetching-payroll-or-document-income-data"></span></h3></a><p>The process for implementing Payroll and Document Income is very similar, so we'll cover these two scenarios next.</p><a href="/docs/income/add-to-app/#create-a-link-token-for-payroll-or-document-income"><h4>Create a Link token for Payroll or Document Income<span data-algolia="linkedHeadingAnchor" id="create-a-link-token-for-payroll-or-document-income"></span></h4></a><p>Plaid Link is a drop-in module that provides a secure, elegant UI flow to guide your users through the process of connecting Plaid with their financial institutions. With Income, Link can help your user search for and connect to their payroll provider as well as assist them in uploading documents.</p><p>Note that these instructions cover Link on the web. For instructions on using Link within mobile apps, see the appropriate section in the <a href="/docs/link/">Link documentation</a>.</p><p>Before initializing Link, you will need to create a new <code>link_token</code> on the server side of your application. A <code>link_token</code> is a short-lived, single-use token that is used to authenticate your app with Link. You can create one using the <a href="/docs/api/tokens/#linktokencreate"><a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a></a> endpoint. Then, on the client side of your application, initialize Link with the <code>link_token</code> that you just created.</p><p>When calling the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint, you'll include an object telling Plaid about your application as well as how to customize the Link experience. When creating a <code>link_token</code> for Payroll or Document Income, there are a few extra values you'll need to supply in this object:</p><ul><li>You will need to pass in the <code>user_token</code> that you created earlier.</li><li>You can only list <code>"income_verification"</code> in the list of products</li><li>You will need to create an object with <code>income_source_types</code> set to <code>["payroll"]</code> and pass that as the value for <code>income_verification</code></li></ul><p>Note that in the code sample below, in addition to passing in a <code>user_token</code>, we are also passing in the signed in user's ID as the <code>user.client_user_id</code> value. These are fundamentally different user IDs used for different purposes. The <code>user.client_user_id</code> value is primarily used for logging purposes and allows you to search for activity in the Plaid dashboard based on the user ID. While its value is most likely the same user ID that you passed in when creating the <code>user_token</code> above, they are otherwise unrelated.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>// Using Express</span><span></span></div><div><span>2</span><span></span></div><div><span>3</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token_for_payroll_income'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span></span></div><div><span>4</span><span>  </span><span>request</span><span>,</span><span></span></div><div><span>5</span><span>  response</span><span>,</span><span></span></div><div><span>6</span><span></span><span>)</span><span> </span><span>{</span><span></span></div><div><span>7</span><span>  </span><span>// Get the client_user_id by searching for the current user.</span><span></span></div><div><span>8</span><span>  </span><span>const</span><span> clientUserId </span><span>=</span><span> </span><span>await</span><span> </span><span>GetSignedInUserId</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>9</span><span>  </span><span>// Get the Plaid user token that we stored in an earlier step</span><span></span></div><div><span>10</span><span>  </span><span>const</span><span> userToken </span><span>=</span><span> </span><span>await</span><span> </span><span>GetPlaidTokenForUser</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>11</span><span>  </span><span>const</span><span> request </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>    user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>      </span><span>// This should correspond to a unique id for the current user.</span><span></span></div><div><span>14</span><span>      client_user_id</span><span>:</span><span> clientUserId</span><span>,</span><span></span></div><div><span>15</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>16</span><span>    client_name</span><span>:</span><span> </span><span>'Plaid Test App'</span><span>,</span><span></span></div><div><span>17</span><span>    products</span><span>:</span><span> </span><span>[</span><span>'income_verification'</span><span>]</span><span>,</span><span></span></div><div><span>18</span><span>    user_token</span><span>:</span><span> userToken</span><span>,</span><span></span></div><div><span>19</span><span>    income_verification</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>20</span><span>      income_source_types</span><span>:</span><span> </span><span>[</span><span>'payroll'</span><span>]</span><span>,</span><span></span></div><div><span>21</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>22</span><span>    language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>23</span><span>    webhook</span><span>:</span><span> </span><span>'https://webhook.example.com'</span><span>,</span><span></span></div><div><span>24</span><span>    country_codes</span><span>:</span><span> </span><span>[</span><span>'US'</span><span>]</span><span>,</span><span></span></div><div><span>25</span><span>  </span><span>}</span><span>;</span><span></span></div><div><span>26</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>27</span><span>    </span><span>const</span><span> createTokenResponse </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>28</span><span>    response</span><span>.</span><span>json</span><span>(</span><span>createTokenResponse</span><span>.</span><span>data</span><span>)</span><span>;</span><span></span></div><div><span>29</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>30</span><span>    </span><span>// handle error</span><span></span></div><div><span>31</span><span>  </span><span>}</span><span></span></div><div><span>32</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><p>By default, a <code>link_token</code> created this way will allow the user to collect income information using both the Payroll and Document methods. However, in some cases you might want to permit the user to only use one of these methods. To do that, you can specify the <code>flow_types</code>, as in the example below.</p><div role="group"><div><label> </label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>income_verification</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  income_source_types</span><span>:</span><span> </span><span>[</span><span>"payroll"</span><span>]</span><span>,</span><span></span></div><div><span>3</span><span>  payroll_income</span><span>:</span><span> </span><span>{</span><span> flow_types</span><span>:</span><span> </span><span>[</span><span>"payroll_digital_income"</span><span>]</span><span> </span><span>}</span><span>,</span><span></span></div><div><span>4</span><span></span><span>}</span><span>,</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#install-the-link-library"><h5>Install the Link library<span data-algolia="linkedHeadingAnchor" id="install-the-link-library"></span></h5></a><p>You need to install the Link JavaScript library from Plaid in order to use Link in your web application.</p><div role="group"><div><label>index.html</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>&lt;</span><span>head</span><span>&gt;</span><span></span></div><div><span>2</span><span>  </span><span>&lt;</span><span>title</span><span>&gt;</span><span>Connect a bank</span><span>&lt;/</span><span>title</span><span>&gt;</span><span></span></div><div><span>3</span><span>  </span><span>&lt;</span><span>script</span><span> </span><span>src</span><span>=</span><span>"</span><span>https://cdn.plaid.com/link/v2/stable/link-initialize.js</span><span>"</span><span>&gt;</span><span></span><span>&lt;/</span><span>script</span><span>&gt;</span><span></span></div><div><span>4</span><span></span><span>&lt;/</span><span>head</span><span>&gt;</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#configure-the-client-side-link-handler"><h5>Configure the client-side Link handler<span data-algolia="linkedHeadingAnchor" id="configure-the-client-side-link-handler"></span></h5></a><p>To run Link, you'll first need to retrieve the <code>link_token</code> from the server using the call to <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> described above. Then, call <code>Plaid.create()</code>, passing along that token alongside other callbacks you might want to define. This will return a handler that has an <code>open</code> method. Call that method to open up the Link UI and start the connection process.</p><div role="group"><div><label>app.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>const</span><span> linkHandler </span><span>=</span><span> </span><span>Plaid</span><span>.</span><span>create</span><span>(</span><span>{</span><span></span></div><div><span>2</span><span>  token</span><span>:</span><span> </span><span>(</span><span>await</span><span> $</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token_for_payroll_income'</span><span>)</span><span>)</span><span>.</span><span>link_token</span><span>,</span><span></span></div><div><span>3</span><span>  </span><span>onSuccess</span><span>:</span><span> </span><span>(</span><span>public_token</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    </span><span>// Typically, you'd exchange the public_token for an access token.</span><span></span></div><div><span>5</span><span>    </span><span>// While you can still do that here, it's not strictly necessary.</span><span></span></div><div><span>6</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>7</span><span>  </span><span>onExit</span><span>:</span><span> </span><span>(</span><span>err</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>    </span><span>// Optionally capture when your user exited the Link flow.</span><span></span></div><div><span>9</span><span>    </span><span>// Storing this information can be helpful for support.</span><span></span></div><div><span>10</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>11</span><span>  </span><span>onEvent</span><span>:</span><span> </span><span>(</span><span>eventName</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>    </span><span>// Optionally capture Link flow events, streamed through</span><span></span></div><div><span>13</span><span>    </span><span>// this callback as your users connect an Item to Plaid.</span><span></span></div><div><span>14</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>15</span><span></span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>16</span><span></span></div><div><span>17</span><span>linkHandler</span><span>.</span><span>open</span><span>(</span><span>)</span><span>;</span></div></code></pre></div></div></div><p>If you've had experience with other Plaid products, you're probably used to taking the <code>public_token</code> received from Link and exchanging it on your server for a persistent <code>access_token</code>. However, because Payroll and Document Income are fetched once (and don't require persistent connections with your user's bank), and all of your reports are associated with the user's <code>user_token</code>, there's no need to retrieve or store an <code>access_token</code> in this case.</p><a href="/docs/income/add-to-app/#listen-for-webhooks"><h4>Listen for webhooks<span data-algolia="linkedHeadingAnchor" id="listen-for-webhooks"></span></h4></a><p>After a user has finished using Link, it may take some time before Plaid has the user's income information available for you to download. In the case of Payroll Income, this typically takes a few seconds. For Document Income, this may take several minutes. Listen for the <code>INCOME: INCOME_VERIFICATION</code> webhook to know when this user's data is ready.</p><div role="group"><div><label>webhookServer.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/server/receive_webhook'</span><span>,</span><span> </span><span>async</span><span> </span><span>(</span><span>req</span><span>,</span><span> res</span><span>,</span><span> next</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>const</span><span> product </span><span>=</span><span> req</span><span>.</span><span>body</span><span>.</span><span>webhook_type</span><span>;</span><span></span></div><div><span>3</span><span>  </span><span>const</span><span> code </span><span>=</span><span> req</span><span>.</span><span>body</span><span>.</span><span>webhook_code</span><span>;</span><span></span></div><div><span>4</span><span>  </span><span>if</span><span> </span><span>(</span><span>product </span><span>===</span><span> </span><span>'INCOME'</span><span> </span><span>&amp;&amp;</span><span> code </span><span>===</span><span> </span><span>'INCOME_VERIFICATION'</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>    </span><span>const</span><span> plaidUserId </span><span>=</span><span> req</span><span>.</span><span>body</span><span>.</span><span>user_id</span><span>;</span><span></span></div><div><span>6</span><span>    </span><span>const</span><span> verificationStatus </span><span>=</span><span> req</span><span>.</span><span>body</span><span>.</span><span>verification_status</span><span>;</span><span></span></div><div><span>7</span><span>    </span><span>if</span><span> </span><span>(</span><span>verificationStatus </span><span>===</span><span> </span><span>'VERIFICATION_STATUS_PROCESSING_COMPLETE'</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>      </span><span>await</span><span> </span><span>retrieveIncomeDataForUser</span><span>(</span><span>plaidUserId</span><span>)</span><span>;</span><span></span></div><div><span>9</span><span>    </span><span>}</span><span> </span><span>else</span><span> </span><span>{</span><span></span></div><div><span>10</span><span>      </span><span>// Handle other cases</span><span></span></div><div><span>11</span><span>    </span><span>}</span><span></span></div><div><span>12</span><span>  </span><span>}</span><span></span></div><div><span>13</span><span>  </span><span>// Handle other types of webhooks</span><span></span></div><div><span>14</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><p>The <code>user_id</code> value included in this webhook is the same <code>user_id</code> that was returned by Plaid when you first created a <code>user_token</code> for this user.</p><a href="/docs/income/add-to-app/#fetch-income-data"><h4>Fetch income data<span data-algolia="linkedHeadingAnchor" id="fetch-income-data"></span></h4></a><p>Now that Plaid has confirmed it has finished processing this user's data, you can fetch the data by making a call to the <a href="/docs/api/products/income/#creditpayroll_incomeget"><code>/credit/payroll_income/get</code></a> endpoint. Pass in the <code>user_token</code>, and Plaid will return all Payroll and Document Income sources associated with that token.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>try</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>creditPayrollIncomeGet</span><span>(</span><span>{</span><span></span></div><div><span>3</span><span>    user_token</span><span>:</span><span> userToken</span><span>,</span><span></span></div><div><span>4</span><span>  </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>5</span><span>  </span><span>const</span><span> incomeData </span><span>=</span><span> response</span><span>.</span><span>data</span><span>;</span><span></span></div><div><span>6</span><span>  </span><span>// Do something interesting with the income data here.</span><span></span></div><div><span>7</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>  </span><span>// Handle error</span><span></span></div><div><span>9</span><span></span><span>}</span></div></code></pre></div></div></div><p>This call will typically return an array of <code>items</code>, each of which represents a connection with a payroll provider. These <code>items</code>, in turn, contain one or more <code>payroll_income</code> objects that contain detailed payroll information for the user. This can include individual pay stubs (with a full breakdown of gross pay, deductions, net pay, and more), as well as W-2 forms and all of their information. See the <a href="/docs/api/products/income/#creditpayroll_incomeget">sample response object</a> in the documentation for a full example of what this response might look like.</p><p>You can distinguish between income that was retrieved through Payroll Income and income that was retrieved through Document Income by looking for an <code>account_id</code> value on the <code>payroll_income</code> object. If the data was retrieved through scanning user documents, this value will be null.</p><a href="/docs/income/add-to-app/#fetching-bank-income-data"><h3>Fetching Bank Income data<span data-algolia="linkedHeadingAnchor" id="fetching-bank-income-data"></span></h3></a><p>As an alternative to downloading income data from the user's payroll provider or W-2 forms, Plaid can also find income data in the user's bank account. Plaid will look for deposits that might be sources of income and ask the user to identify which deposits represent income that they wish to share with your application.</p><a href="/docs/income/add-to-app/#create-a-link-token-for-bank-income"><h4>Create a Link token for Bank Income<span data-algolia="linkedHeadingAnchor" id="create-a-link-token-for-bank-income"></span></h4></a><p>Creating a <code>link_token</code> for Bank Income is similar to the process for creating a <code>link_token</code> for Payroll or Document Income. The main differences are:</p><ul><li>While you still must include <code>"income_verification"</code> as a product, you are allowed to combine this product with other products that you might want to use with this financial institution.</li><li>Your <code>income_source_types</code> must be set to <code>["bank"]</code>.</li><li>Your <code>income_verification</code> object must also include a <code>bank_income</code> object, where you have set the value of <code>days_requested</code>. This is the number of days back that Plaid will search for regularly occurring deposits.</li></ul><p>The value of <code>days_requested</code> should a large enough number that you find all relevant deposits, but not so large that the user gets tired waiting for Plaid to retrieve all the relevant data. We recommend 120 days as good balance between the two.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token_for_bank_income'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span></span></div><div><span>2</span><span>  </span><span>request</span><span>,</span><span></span></div><div><span>3</span><span>  response</span><span>,</span><span></span></div><div><span>4</span><span></span><span>)</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>  </span><span>// Get the client_user_id by searching for the current user.</span><span></span></div><div><span>6</span><span>  </span><span>const</span><span> clientUserId </span><span>=</span><span> </span><span>await</span><span> </span><span>GetSignedInUserId</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>7</span><span>  </span><span>// Get the Plaid user token that we stored in an earlier step</span><span></span></div><div><span>8</span><span>  </span><span>const</span><span> userToken </span><span>=</span><span> </span><span>await</span><span> </span><span>GetPlaidTokenForUser</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>9</span><span>  </span><span>const</span><span> request </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>10</span><span>    user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>11</span><span>      </span><span>// This should correspond to a unique id for the current user.</span><span></span></div><div><span>12</span><span>      client_user_id</span><span>:</span><span> clientUserId</span><span>,</span><span></span></div><div><span>13</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>14</span><span>    client_name</span><span>:</span><span> </span><span>'Plaid Test App'</span><span>,</span><span></span></div><div><span>15</span><span>    products</span><span>:</span><span> </span><span>[</span><span>'income_verification'</span><span>,</span><span> </span><span>'transactions'</span><span>,</span><span> </span><span>'assets'</span><span>]</span><span>,</span><span></span></div><div><span>16</span><span>    user_token</span><span>:</span><span> userToken</span><span>,</span><span></span></div><div><span>17</span><span>    income_verification</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>18</span><span>      income_source_types</span><span>:</span><span> </span><span>[</span><span>'bank'</span><span>]</span><span>,</span><span></span></div><div><span>19</span><span>      bank_income</span><span>:</span><span> </span><span>{</span><span> days_requested</span><span>:</span><span> </span><span>60</span><span> </span><span>}</span><span>,</span><span></span></div><div><span>20</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>21</span><span>    language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>22</span><span>    webhook</span><span>:</span><span> </span><span>'https://webhook.example.com'</span><span>,</span><span></span></div><div><span>23</span><span>    country_codes</span><span>:</span><span> </span><span>[</span><span>'US'</span><span>]</span><span>,</span><span></span></div><div><span>24</span><span>  </span><span>}</span><span>;</span><span></span></div><div><span>25</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>26</span><span>    </span><span>const</span><span> createTokenResponse </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>27</span><span>    response</span><span>.</span><span>json</span><span>(</span><span>createTokenResponse</span><span>.</span><span>data</span><span>)</span><span>;</span><span></span></div><div><span>28</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>29</span><span>    </span><span>// handle error</span><span></span></div><div><span>30</span><span>  </span><span>}</span><span></span></div><div><span>31</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#install-the-link-library-1"><h5>Install the Link library<span data-algolia="linkedHeadingAnchor" id="install-the-link-library-1"></span></h5></a><p>As described earlier, you need to install the Link JavaScript library from Plaid to use Link in your web application.</p><div role="group"><div><label>index.html</label><div><div><div><div><button aria-controls="dropdown-unique-id-96" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-96" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>&lt;</span><span>head</span><span>&gt;</span><span></span></div><div><span>2</span><span>  </span><span>&lt;</span><span>title</span><span>&gt;</span><span>Connect a bank</span><span>&lt;/</span><span>title</span><span>&gt;</span><span></span></div><div><span>3</span><span>  </span><span>&lt;</span><span>script</span><span> </span><span>src</span><span>=</span><span>"</span><span>https://cdn.plaid.com/link/v2/stable/link-initialize.js</span><span>"</span><span>&gt;</span><span></span><span>&lt;/</span><span>script</span><span>&gt;</span><span></span></div><div><span>4</span><span></span><span>&lt;/</span><span>head</span><span>&gt;</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#configure-the-client-side-link-handler-1"><h5>Configure the client-side Link handler<span data-algolia="linkedHeadingAnchor" id="configure-the-client-side-link-handler-1"></span></h5></a><p>Retrieve the <code>link_token</code> from the server, then call <code>Plaid.create()</code>, passing along the <code>link_token</code> alongside other callbacks you might want to define. This will return a handler that has an <code>open</code> method, which you can call to start the Link process. This is similar to the process described above, but with Bank Income you will probably want to keep the <code>public_token</code> and exchange it for an <code>access_token</code>, as described in the next step.</p><div role="group"><div><label>app.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>const</span><span> linkHandler </span><span>=</span><span> </span><span>Plaid</span><span>.</span><span>create</span><span>(</span><span>{</span><span></span></div><div><span>2</span><span>  token</span><span>:</span><span> </span><span>(</span><span>await</span><span> $</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token_for_bank_income'</span><span>)</span><span>)</span><span>.</span><span>link_token</span><span>,</span><span></span></div><div><span>3</span><span>  </span><span>onSuccess</span><span>:</span><span> </span><span>(</span><span>public_token</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    </span><span>// Send the public_token to your app server.</span><span></span></div><div><span>5</span><span>    $</span><span>.</span><span>post</span><span>(</span><span>'/exchange_public_token'</span><span>,</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>      public_token</span><span>:</span><span> public_token</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>8</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>9</span><span>  </span><span>onExit</span><span>:</span><span> </span><span>(</span><span>err</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>10</span><span>    </span><span>// Optionally capture when your user exited the Link flow.</span><span></span></div><div><span>11</span><span>    </span><span>// Storing this information can be helpful for support.</span><span></span></div><div><span>12</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>13</span><span>  </span><span>onEvent</span><span>:</span><span> </span><span>(</span><span>eventName</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>14</span><span>    </span><span>// Optionally capture Link flow events, streamed through</span><span></span></div><div><span>15</span><span>    </span><span>// this callback as your users connect an Item to Plaid.</span><span></span></div><div><span>16</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>17</span><span></span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>18</span><span></span></div><div><span>19</span><span>linkHandler</span><span>.</span><span>open</span><span>(</span><span>)</span><span>;</span></div></code></pre></div></div></div><a href="/docs/income/add-to-app/#retrieve-metadata-about-the-link-session"><h5>Retrieve metadata about the Link session<span data-algolia="linkedHeadingAnchor" id="retrieve-metadata-about-the-link-session"></span></h5></a><p>Call <a href="/docs/api/products/income/#creditsessionsget"><code>/credit/sessions/get</code></a> in your server after receiving <code>onSuccess</code>, passing in the <code>user_token</code> that you used to create the Link token.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>try</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>creditSessionsGet</span><span>(</span><span>{</span><span></span></div><div><span>3</span><span>    user_token</span><span>:</span><span> userRecord</span><span>[</span><span>FIELD_USER_TOKEN</span><span>]</span><span>,</span><span></span></div><div><span>4</span><span>  </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>5</span><span>  </span><span>const</span><span> sessionData </span><span>=</span><span> response</span><span>.</span><span>data</span><span>;</span><span></span></div><div><span>6</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>7</span><span>  </span><span>// Handle this error</span><span></span></div><div><span>8</span><span></span><span>}</span></div></code></pre></div></div></div><p>If the user has finished the Bank Income verification flow, then the most recent session will have a <code>bank_income_result</code> with status <code>APPROVED</code>.</p><p>If you are using other Plaid products such as Auth or Balance alongside Bank Income, make sure to capture the <code>public_token</code> from the <code>item_add_result</code> callback and exchange it for an <code>access_token</code>.</p><a href="/docs/income/add-to-app/#get-a-persistent-access-token-for-other-products"><h4>Get a persistent access token (for other products)<span data-algolia="linkedHeadingAnchor" id="get-a-persistent-access-token-for-other-products"></span></h4></a><p>For the purpose of retrieving income data, you don't necessarily need an <code>access_token</code>. Plaid will retrieve the income data for you, and then that data will be associated with the <code>user_token</code> that you created when first configuring Link.</p><p>However, if you are using any other product with this financial institution (such as Transactions, Balance, or Assets), you will need to exchange your <code>public_token</code> for an <code>access_token</code> and <code>item_id</code>. The <code>access_token</code> lets you make authenticated calls to these other products in the Plaid API.</p><p>Exchanging a <code>public_token</code> for an <code>access_token</code> is as easy as calling the <a href="/docs/api/tokens/#itempublic_tokenexchange"><code>/item/public_token/exchange</code></a> endpoint from the server-side handler. Store the <code>access_token</code> and <code>item_id</code> that get returned in a secure server-side location. Never store this information on the client.</p><span id="content-switcher-unique-id-97">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-97" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>server.js</label><div><div><div><div><button aria-controls="dropdown-unique-id-98" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-98" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/exchange_public_token'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span></span></div><div><span>2</span><span>  </span><span>request</span><span>,</span><span></span></div><div><span>3</span><span>  response</span><span>,</span><span></span></div><div><span>4</span><span>  next</span><span>,</span><span></span></div><div><span>5</span><span></span><span>)</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>  </span><span>const</span><span> publicToken </span><span>=</span><span> request</span><span>.</span><span>body</span><span>.</span><span>public_token</span><span>;</span><span></span></div><div><span>7</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>    </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>itemPublicTokenExchange</span><span>(</span><span>{</span><span></span></div><div><span>9</span><span>      public_token</span><span>:</span><span> publicToken</span><span>,</span><span></span></div><div><span>10</span><span>    </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>11</span><span></span></div><div><span>12</span><span>    </span><span>// These values should be saved to a persistent database and</span><span></span></div><div><span>13</span><span>    </span><span>// associated with the currently signed-in user</span><span></span></div><div><span>14</span><span>    </span><span>const</span><span> accessToken </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>access_token</span><span>;</span><span></span></div><div><span>15</span><span>    </span><span>const</span><span> itemID </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>item_id</span><span>;</span><span></span></div><div><span>16</span><span></span></div><div><span>17</span><span>    res</span><span>.</span><span>json</span><span>(</span><span>{</span><span> public_token_exchange</span><span>:</span><span> </span><span>'complete'</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>18</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>19</span><span>    </span><span>// handle error</span><span></span></div><div><span>20</span><span>  </span><span>}</span><span></span></div><div><span>21</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div></div><a href="/docs/income/add-to-app/#fetch-income-data-1"><h4>Fetch income data<span data-algolia="linkedHeadingAnchor" id="fetch-income-data-1"></span></h4></a><p>You can fetch income data by calling the <a href="/docs/api/products/income/#creditbank_incomeget"><code>/credit/bank_income/get</code></a> endpoint using the Plaid client library, passing in the <code>user_token</code> you created earlier. Note that, similar to Document or Payroll Income, this data is static -- it is a snapshot of the user's income data that was retrieved by Plaid when the user ran Link. It does not update or change over time.</p><p>By default, Plaid will only return the most recent report in its response. However, you might want to retrieve more than one report if your user has intentionally run Link multiple times. You can do this by passing an <code>options</code> object with a <code>count</code> value set to an integer.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>try</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>creditBankIncomeGet</span><span>(</span><span>{</span><span></span></div><div><span>3</span><span>    user_token</span><span>:</span><span> userRecord</span><span>[</span><span>FIELD_USER_TOKEN</span><span>]</span><span>,</span><span></span></div><div><span>4</span><span>    options</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>      count</span><span>:</span><span> </span><span>3</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>7</span><span>  </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>8</span><span>  </span><span>const</span><span> bankIncomeData </span><span>=</span><span> response</span><span>.</span><span>data</span><span>;</span><span></span></div><div><span>9</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>10</span><span>  </span><span>// Handle this error</span><span></span></div><div><span>11</span><span></span><span>}</span></div></code></pre></div></div></div><p>This call typically returns a <code>bank_income</code> array, which consists of a number of different objects that represent the report generated when the user ran Link. These individual reports contain an <code>items</code> array, which in turn contains one or more objects that represent the financial institutions associated with this report. These objects contain a <code>bank_income_accounts</code> array of objects, which gives you information about the individual accounts, as well as a <code>bank_income_sources</code> array of objects, which in turn contains the total amount of income reported, along with historical transactions about that income.</p><p>Each report also contains a <code>bank_income_summary</code> object, that summarizes the total bank income identified across all items in this report.</p><a href="/docs/income/add-to-app/#connecting-to-multiple-banks-in-the-same-report"><h4>Connecting to multiple banks in the same report<span data-algolia="linkedHeadingAnchor" id="connecting-to-multiple-banks-in-the-same-report"></span></h4></a><p>Bank Income allows you to accept data from multiple banks in the same report. To enable this feature, first include <code>enable_multiple_items: true</code> inside the <code>bank_income</code> object that you pass to <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a>.</p><div role="group"><div><label>server.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>...</span><span></span></div><div><span>3</span><span>  income_verification</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    income_source_types</span><span>:</span><span> </span><span>[</span><span>'bank'</span><span>]</span><span>,</span><span></span></div><div><span>5</span><span>    bank_income</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>      days_requested</span><span>:</span><span> </span><span>60</span><span>,</span><span></span></div><div><span>7</span><span>      enable_multiple_items</span><span>:</span><span> </span><span>true</span><span>,</span><span></span></div><div><span>8</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>9</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>10</span><span></span><span>}</span><span>;</span></div></code></pre></div></div></div><p>Then, after the user has exited Link and you receive an <code>onSuccess</code> or <code>onExit</code> callback, there will be a distinct <code>item_add_result</code> returned in the <a href="/docs/api/products/income/#creditsessionsget"><code>/credit/sessions/get</code></a> response for each Item the user successfully linked. If the user has completed the Bank Income verification flow for a given Item, there will be a corresponding <code>bank_income_result</code> for that Item with status <code>APPROVED</code>. </p><p>Ensure that you call <a href="/docs/api/products/income/#creditsessionsget"><code>/credit/sessions/get</code></a> for both <code>onSuccess</code> and <code>onExit</code> Link callbacks, as the Link callback will only reflect the state of the last Item linked.</p><p>When your user connects with multiple banks in a single Link process, you will receive each bank's data in the <code>item</code> array for that report when calling <a href="/docs/api/products/income/#creditbank_incomeget"><code>/credit/bank_income/get</code></a>.</p><p>Although retrieving multiple items in the same report makes parsing your results easier (and is a better experience for your user), you may still wish to retrieve more than one report when calling <a href="/docs/api/products/income/#creditbank_incomeget"><code>/credit/bank_income/get</code></a> in case your user forgets to add all of their banks the first time and has to run Link multiple times.</p><a href="/docs/income/add-to-app/#example-code"><h4>Example code<span data-algolia="linkedHeadingAnchor" id="example-code"></span></h4></a><p>For an example of an app that incorporates Document, Payroll and Bank Income, see the React and Node-based <a href="https://github.com/plaid/income-sample" rel="nofollow noopener noreferrer" target="_blank">Income Sample app</a>. The Income Sample app is an application that uses Income and Liability data to help determine whether the user can qualify for financing on a pre-owned hoverboard. It supports the use of all three types of income data.</p><a href="/docs/income/add-to-app/#implementation-guide"><h4>Implementation guide<span data-algolia="linkedHeadingAnchor" id="implementation-guide"></span></h4></a><p>For further guidance on implementing Income in your app, see the <a href="https://plaid.com/documents/plaid-income-verification-solution-guide.pdf" rel="nofollow noopener noreferrer" target="_blank">Income Verification Solution Guide</a>.</p><a href="/docs/income/add-to-app/#next-steps"><h4>Next steps<span data-algolia="linkedHeadingAnchor" id="next-steps"></span></h4></a><p>If you're ready to launch to Production, see the Launch checklist.</p><div data-algolia-remove="true"><a href="/docs/launch-checklist/"><span><div></div></span><h4>Launch checklist</h4><p>Recommended steps to take before launching in Production</p><span>Launch<i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M11.55 15.54l-1.06-1.06 2.47-2.47-2.47-2.47 1.06-1.06 3.53 3.53z" fill="currentColor"></path></g></svg></i></span></a></div></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe><div id="batBeacon50222876291"><img alt="" height="0" id="batBeacon465373350783" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=b3ddfc84-c921-48fe-bc13-24e086c86e4c&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Income%20-%20Add%20Income%20to%20your%20app%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;r=&amp;lt=894&amp;evt=pageLoad&amp;sv=1&amp;rn=66642" width="0"/><img alt="" height="0" id="batBeacon158416771803" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=b3ddfc84-c921-48fe-bc13-24e086c86e4c&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=486688" width="0"/></div><div>
</div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=f7425920-b036-46a8-a129-63ee10b0710a&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=0566d5a5-757b-4553-945c-46835176da95&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=f7425920-b036-46a8-a129-63ee10b0710a&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=0566d5a5-757b-4553-945c-46835176da95&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=6d13ea71-ff87-41b5-9b17-afd2afe6b7fa&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=0566d5a5-757b-4553-945c-46835176da95&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=6d13ea71-ff87-41b5-9b17-afd2afe6b7fa&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=0566d5a5-757b-4553-945c-46835176da95&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Fincome%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/></body>