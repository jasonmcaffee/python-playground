<body><h1>transfer payment profiles </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Connect accounts using Payment Profiles</h1><h4>Use Payment Profiles to store user payment information for a high-converting payment experience</h4><div></div></div></div></div><a href="/docs/transfer/payment-profiles/#overview"><h4>Overview<span data-algolia="linkedHeadingAnchor" id="overview"></span></h4></a><p>A Payment Profile is a fast, simple, and high converting way for users to connect their account and manage their money securely in your app with Plaid. With a Payment Profile, a user's preferred payment information will be saved after linking their account with Plaid. The next time the user enters the Transfer flow, their Payment Profile can be re-used, allowing them to use a streamlined, higher-converting payment experience.</p><p>There are two flows that a user could encounter, depending on if the user has connected the account before. Both of these flows would result in a <code>payment_profile_token</code> ready to be used to initiate transfers with the <a href="/docs/api/products/transfer/">Transfer API</a>.</p><a href="/docs/transfer/payment-profiles/#first-time-user-flow"><h4>First time user flow<span data-algolia="linkedHeadingAnchor" id="first-time-user-flow"></span></h4></a><div><img alt="First time user flow using Payment Profile" height="" src="/_next/image?url=/assets/img/docs/transfer/payment_profile_first_time_flow.png&amp;w=1920&amp;q=75" width="624"/></div><p>If the user has not connected a Payment Profile before, they will encounter the first time user flow. They are prompted to select their institution, log in with their bank, and select the bank account they wish to use with Transfer. After completing the first time flow, their information will be saved to the Payment Profile.</p><a href="/docs/transfer/payment-profiles/#returning-user-flow"><h4>Returning user flow<span data-algolia="linkedHeadingAnchor" id="returning-user-flow"></span></h4></a><div><img alt="Returning user flow using Payment Profile" height="" src="/_next/image?url=/assets/img/docs/transfer/payment_profile_returning_flow.png&amp;w=1920&amp;q=75" width="624"/></div><p>If the user has completed a Payment Profile connection with Plaid before, they will encounter the returning user flow. In this flow, the user is prompted to authenticate by entering a one-time passcode that’s sent to their mobile device. Once they are authenticated, they can complete the Payment Profile connection with their previously saved information.</p><a href="/docs/transfer/payment-profiles/#using-payment-profiles-with-transfer"><h4>Using Payment Profiles with Transfer<span data-algolia="linkedHeadingAnchor" id="using-payment-profiles-with-transfer"></span></h4></a><a href="/docs/transfer/payment-profiles/#create-a-payment-profile"><h5>Create a Payment Profile<span data-algolia="linkedHeadingAnchor" id="create-a-payment-profile"></span></h5></a><p>Call <a href="/docs/api/products/transfer/#payment_profilecreate"><code>/payment_profile/create</code></a> to generate a Payment Profile. Take note of the <code>payment_profile_token</code> field returned as you will need this for the next steps. A <code>payment_profile_token</code> does not expire, should always be stored securely, and should be associated in your database with the user whose data it represents.</p><div role="group"><div><label>Response from /payment_profile/create</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>    </span><span>"payment_profile_token"</span><span>:</span><span> </span><span>"payment-profile-sandbox-5cbf270e-0cad-4f4e-836c-94a85403c3ac"</span><span>,</span><span></span></div><div><span>3</span><span>    </span><span>"request_id"</span><span>:</span><span> </span><span>"rUaB0dzz1zyJVPs"</span><span>  </span></div><div><span>4</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/payment-profiles/#generate-a-link-token"><h5>Generate a Link token<span data-algolia="linkedHeadingAnchor" id="generate-a-link-token"></span></h5></a><p>Generate a Link token by calling <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> and specifying the following:</p><ul><li><code>"transfer"</code> in the <code>products</code> array. Ensure that <code>"transfer"</code> is the only product being initialized.</li><li>A <code>transfer</code> object in the body of the create request. Within the object, specify the <code>payment_profile_token</code> using the value returned by <a href="/docs/api/products/transfer/#payment_profilecreate"><code>/payment_profile/create</code></a></li><li>A <code>user</code> object in the body of the create request. Populate the <code>phone_number</code> field in the <code>user</code> object with the user’s phone number.</li></ul><div role="group"><div><label>Generating a Link token with payment_profile_token</label><div><div><div><div><button aria-controls="dropdown-unique-id-94" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-94" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>LinkTokenCreateRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    client_user_id</span><span>:</span><span> </span><span>'user-id'</span><span>,</span><span></span></div><div><span>4</span><span>    phone_number</span><span>:</span><span> </span><span>'+1 415 555 0123'</span><span>,</span><span></span></div><div><span>5</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>6</span><span>  client_name</span><span>:</span><span> </span><span>'Plaid App'</span><span>,</span><span></span></div><div><span>7</span><span>  products</span><span>:</span><span> </span><span>[</span><span>'transfer'</span><span>]</span><span>,</span><span></span></div><div><span>8</span><span>  country_codes</span><span>:</span><span> </span><span>[</span><span>'US'</span><span>]</span><span>,</span><span></span></div><div><span>9</span><span>  language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>10</span><span>  webhook</span><span>:</span><span> </span><span>'https://sample-web-hook.com'</span><span>,</span><span></span></div><div><span>11</span><span>  redirect_uri</span><span>:</span><span> </span><span>'https://domainname.com/oauth-page.html'</span><span>,</span><span></span></div><div><span>12</span><span>  transfer</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>    payment_profile_token</span><span>:</span><span> </span><span>'PAYMENT_PROFILE_TOKEN'</span><span>,</span><span></span></div><div><span>14</span><span>  </span><span>}</span><span></span></div><div><span>15</span><span></span><span>}</span><span>;</span><span></span></div><div><span>16</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>17</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>18</span><span>  </span><span>const</span><span> linkToken </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>link_token</span><span>;</span><span></span></div><div><span>19</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>20</span><span>  </span><span>// handle error</span><span></span></div><div><span>21</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/payment-profiles/#initializing-link-with-the-generated-token"><h5>Initializing Link with the generated token<span data-algolia="linkedHeadingAnchor" id="initializing-link-with-the-generated-token"></span></h5></a><p>Next, initialize <a href="/docs/link/#initializing-link">Link</a> using the <code>link_token</code> you generated. Depending on the information provided to the API or input by the user, they will either get the first time flow or the returning flow. Once the user has completed the flow, the <a href="/docs/link/web/#onsuccess"><code>onSuccess</code></a> callback is called and the <code>payment_profile_token</code> is ready to be used for initiating transfers. Follow the steps in <a href="/docs/transfer/sending-receiving-funds/">Sending or receiving funds</a> to create a transfer.</p><a href="/docs/transfer/payment-profiles/#update-mode-for-payment-profile"><h5>Update Mode for Payment Profile<span data-algolia="linkedHeadingAnchor" id="update-mode-for-payment-profile"></span></h5></a><p>The authentication or authorization for a Payment Profile can become invalid: for example, this can be caused by a user changing their password at an institution that does not use OAuth. When this happens, calls made to <a href="/docs/api/products/transfer/#transferauthorizationcreate"><code>/transfer/authorization/create</code></a> will result in an authorization decision rationale of <code>PAYMENT_PROFILE_LOGIN_REQUIRED</code>. You can proceed with creating the transfer with this Payment Profile, but it is not recommended as Plaid was unable to collect enough data to make a thorough risk evaluation. Instead, ask the user to re-authenticate with Link in <a href="/docs/link/update-mode/#using-update-mode-for-payment-profiles">Payment Profile update mode</a>, which will prompt the user to re-login and return the Payment Profile into a good state for subsequent transfers.</p><a href="/docs/transfer/payment-profiles/#removing-the-payment-profile"><h5>Removing the Payment Profile<span data-algolia="linkedHeadingAnchor" id="removing-the-payment-profile"></span></h5></a><p>If the user has indicated they no longer wish to save the payment information, call <a href="/docs/api/products/transfer/#payment_profileremove"><code>/payment_profile/remove</code></a> to remove the Payment Profile and prevent further transfers.</p><a href="/docs/transfer/payment-profiles/#testing-payment-profiles-in-sandbox"><h5>Testing Payment Profiles in Sandbox<span data-algolia="linkedHeadingAnchor" id="testing-payment-profiles-in-sandbox"></span></h5></a><p>Real phone numbers do not work in the Plaid Sandbox. Instead, the Sandbox has been seeded with a test user whose phone number might be used to trigger a returning user flow. Use the special phone number <code>+14155550234</code> in <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> to test the returning user flow in Sandbox:</p><div role="group"><div><label>Example /link/token/create request to trigger returning flow</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>curl</span><span> -X POST https://sandbox.plaid.com/link/token/create -H </span><span>'Content-Type: application/json'</span><span> -d </span><span>'{</span></div><div><span>2</span><span>  "client_id": "CLIENT_ID",</span></div><div><span>3</span><span>  "secret": "SECRET",</span></div><div><span>4</span><span>  "user": {</span></div><div><span>5</span><span>    "client_user_id": "unique-per-user",</span></div><div><span>6</span><span>    "phone_number": "+1 415 555 0234"</span></div><div><span>7</span><span>  },</span></div><div><span>8</span><span>  "client_name": "Plaid App",</span></div><div><span>9</span><span>  "products": ["transfer"],</span></div><div><span>10</span><span>  "country_codes": ["US"],</span></div><div><span>11</span><span>  "language": "en",</span></div><div><span>12</span><span>  "webhook": "https://sample-web-hook.com",</span></div><div><span>13</span><span>  "redirect_uri": "https://domainname.com/oauth-page.html",</span></div><div><span>14</span><span>  "transfer": {</span></div><div><span>15</span><span>    "payment_profile_token": "PAYMENT_PROFILE_TOKEN"</span></div><div><span>16</span><span>  }</span></div><div><span>17</span><span>}'</span></div></code></pre></div></div></div><p>The valid OTP code sent to this user is always 123456.</p></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><div id="batBeacon625194710550"><img alt="" height="0" id="batBeacon845627376323" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=bbd455d2-6b4b-4c6a-ba85-b97ed5dbd573&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Transfer%20-%20Payment%20Profiles%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;r=&amp;lt=636&amp;evt=pageLoad&amp;sv=1&amp;rn=290160" width="0"/><img alt="" height="0" id="batBeacon909072491895" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=bbd455d2-6b4b-4c6a-ba85-b97ed5dbd573&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=774152" width="0"/></div><div>
</div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=b16a07dc-8577-461b-92e0-3c3572c273eb&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=3f9158fb-a4fc-4581-bf7e-92f9880c4c06&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=b16a07dc-8577-461b-92e0-3c3572c273eb&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=3f9158fb-a4fc-4581-bf7e-92f9880c4c06&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=a1f20da9-83fe-47c5-a944-badf35b79948&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=3f9158fb-a4fc-4581-bf7e-92f9880c4c06&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=a1f20da9-83fe-47c5-a944-badf35b79948&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=3f9158fb-a4fc-4581-bf7e-92f9880c4c06&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fpayment-profiles%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe></body>