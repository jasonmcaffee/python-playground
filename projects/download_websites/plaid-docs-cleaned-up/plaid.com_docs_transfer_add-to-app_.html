<body><h1>transfer add to app </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Add Transfer to your app</h1><h4>Intelligently process transfers between accounts</h4><div></div></div></div></div><p>In this guide, we'll walk through how to use <a href="/docs/api/products/transfer/">Transfer and Transfer UI</a> to transfer funds between accounts.</p><p>Transfer UI allows a user to link an account using an intuitive interface to authorize a transfer. The first time a user uses Transfer UI, they will link a bank account and authorize the transfer of funds. After that, Transfer UI will only be used to authorize the transfer of funds for their already-linked bank account.</p><p>The Transfer product does not have a user interface and requires that you build your own NACHA-compliant user interface for users to authorize transfers. Users will go through Plaid's standard Link flow to link a bank account one time, and then you will use the Transfer product to move their funds afterwards.</p><p>You will normally use either Transfer UI or Transfer, but they can also be used together in the same app. For example, in a monthly subscriptions-based app you might initially use Transfer UI for your user to link their account and authorize their first payment, then use Transfer for the subsequent months so that the user does not have to be present to transfer their monthly payments.</p><a href="/docs/transfer/add-to-app/#get-plaid-api-keys-and-complete-application-and-company-profile"><h4>Get Plaid API keys and complete application and company profile<span data-algolia="linkedHeadingAnchor" id="get-plaid-api-keys-and-complete-application-and-company-profile"></span></h4></a><p>If you don't already have one, you'll need to <a href="https://dashboard.plaid.com/signup" rel="nofollow noopener noreferrer" target="_blank">create a Plaid developer account</a>. After creating your account, you can find your <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">API keys</a> under the Team Settings menu on the Plaid Dashboard.</p><p>You will also need to complete your <a href="https://dashboard.plaid.com/settings/company/app-branding" rel="nofollow noopener noreferrer" target="_blank">application profile</a> and <a href="https://dashboard.plaid.com/settings/company/profile" rel="nofollow noopener noreferrer" target="_blank">company profile</a> on the Dashboard. The information in your profile will be shared with users of your application when they manage their connection on the <a href="https://my.plaid.com" rel="nofollow noopener noreferrer" target="_blank">Plaid Portal</a>. Your application profile and company profile must be completed before connecting to certain institutions in Production.</p><a href="/docs/transfer/add-to-app/#install-and-initialize-plaid-libraries"><h4>Install and initialize Plaid libraries<span data-algolia="linkedHeadingAnchor" id="install-and-initialize-plaid-libraries"></span></h4></a><p>You can use our official server-side client libraries to connect to the Plaid API from your application:</p><span id="content-switcher-unique-id-147">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-147" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>Terminal</label><div><div><div><div><button aria-controls="dropdown-unique-id-148" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-148" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Install via npm</span><span></span></div><div><span>2</span><span>npm install </span><span>--</span><span>save plaid</span></div></code></pre></div></div></div></div><p>After you've installed Plaid's client libraries, you can initialize them by passing in your <code>client_id</code>, <code>secret</code>, and the environment you wish to connect to (Sandbox or Production -- Transfer is not supported in the Development environment). This will make sure the client libraries pass along your <code>client_id</code> and <code>secret</code> with each request, and you won't need to explicitly include them in any other calls.</p><p>In the code samples below, you will need to replace <code>PLAID_CLIENT_ID</code> and <code>PLAID_SECRET</code> with your own keys, which you can obtain from the <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">Dashboard</a>. These code samples also demonstrate starting up a server commonly used in each framework (such as Express or Flask).</p><span id="content-switcher-unique-id-149">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-149" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>server.js</label><div><div><div><div><button aria-controls="dropdown-unique-id-150" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-150" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Using Express</span><span></span></div><div><span>2</span><span></span><span>const</span><span> express </span><span>=</span><span> </span><span>require</span><span>(</span><span>'express'</span><span>)</span><span>;</span><span></span></div><div><span>3</span><span></span><span>const</span><span> app </span><span>=</span><span> </span><span>express</span><span>(</span><span>)</span><span>;</span><span></span></div><div><span>4</span><span>app</span><span>.</span><span>use</span><span>(</span><span>express</span><span>.</span><span>json</span><span>(</span><span>)</span><span>)</span><span>;</span><span></span></div><div><span>5</span><span></span></div><div><span>6</span><span></span><span>const</span><span> </span><span>{</span><span> </span><span>Configuration</span><span>,</span><span> </span><span>PlaidApi</span><span>,</span><span> </span><span>PlaidEnvironments</span><span> </span><span>}</span><span> </span><span>=</span><span> </span><span>require</span><span>(</span><span>'plaid'</span><span>)</span><span>;</span><span></span></div><div><span>7</span><span></span></div><div><span>8</span><span></span><span>const</span><span> configuration </span><span>=</span><span> </span><span>new</span><span> </span><span>Configuration</span><span>(</span><span>{</span><span></span></div><div><span>9</span><span>  basePath</span><span>:</span><span> </span><span>PlaidEnvironments</span><span>.</span><span>sandbox</span><span>,</span><span></span></div><div><span>10</span><span>  baseOptions</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>11</span><span>    headers</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>      </span><span>'PLAID-CLIENT-ID'</span><span>:</span><span> process</span><span>.</span><span>env</span><span>.</span><span>PLAID_CLIENT_ID</span><span>,</span><span></span></div><div><span>13</span><span>      </span><span>'PLAID-SECRET'</span><span>:</span><span> process</span><span>.</span><span>env</span><span>.</span><span>PLAID_SECRET</span><span>,</span><span></span></div><div><span>14</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>15</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>16</span><span></span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>17</span><span></span></div><div><span>18</span><span></span><span>const</span><span> client </span><span>=</span><span> </span><span>new</span><span> </span><span>PlaidApi</span><span>(</span><span>configuration</span><span>)</span><span>;</span></div></code></pre></div></div></div></div><a href="/docs/transfer/add-to-app/#initiate-transfer-without-transfer-ui"><h4>Initiate Transfer without Transfer UI<span data-algolia="linkedHeadingAnchor" id="initiate-transfer-without-transfer-ui"></span></h4></a><p>Unlike Transfer UI, Transfer moves funds without a built in user interface that allows users to authorize transfers. If you are not using Transfer UI, you will need to build your own NACHA-compliant user interface for users to authorize transfers. The following steps will take place after your user has authorized an amount to be transferred from their bank.</p><a href="/docs/transfer/add-to-app/#create-a-payment-profile-optional"><h5>Create a Payment Profile (optional)<span data-algolia="linkedHeadingAnchor" id="create-a-payment-profile-optional"></span></h5></a><p>Create a Payment Profile using <a href="/docs/api/products/transfer/#payment_profilecreate"><code>/payment_profile/create</code></a> and receive a <code>payment_profile_token</code>. Creating a payment profile is optional but is recommended to increase conversion if you are not using Transfer UI and are using Transfer as your only Plaid Product.</p><a href="/docs/transfer/add-to-app/#create-a-link-token"><h5>Create a Link token<span data-algolia="linkedHeadingAnchor" id="create-a-link-token"></span></h5></a><p>Plaid Link is a drop-in module that provides a secure, elegant authentication flow
for each institution that Plaid supports. Link makes it secure and easy for users to
connect their bank accounts to Plaid. Note that these instructions cover Link on the web. For instructions on using Link within mobile apps, see the <a href="/docs/link/">Link documentation</a>. Transfer UI works with Link to provide users with an interface to authorize ACH transfers.</p><p>Before initializing Link, you will need to create a new <code>link_token</code> on the server side of your application.
A <code>link_token</code> is a short-lived, one-time use token that is used to authenticate your app with Link.
You can create one using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint. Then, on the client side of your application, you'll need to initialize Link with the <code>link_token</code> that you just created.</p><p>In the code samples below, you will need to replace <code>PLAID_CLIENT_ID</code> and <code>PLAID_SECRET</code> with your own keys, which you can obtain from the <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">Dashboard</a>.</p><p>If you have created a Payment Profile, provide the <code>payment_profile_token</code> in the <code>transfer.payment_profile_token</code> field and the user's phone number in the <code>user.phone_number</code> field.</p><div role="group"><div><label>server.js</label><div><div><div><div><button aria-controls="dropdown-unique-id-151" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-151" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span>request</span><span>,</span><span> response</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>// Get the client_user_id by searching for the current user</span><span></span></div><div><span>3</span><span>  </span><span>const</span><span> user </span><span>=</span><span> </span><span>await</span><span> </span><span>User</span><span>.</span><span>find</span><span>(</span><span>...</span><span>)</span><span>;</span><span></span></div><div><span>4</span><span>  </span><span>const</span><span> clientUserId </span><span>=</span><span> user</span><span>.</span><span>id</span><span>;</span><span></span></div><div><span>5</span><span>  </span><span>const</span><span> request </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>    user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>7</span><span>      </span><span>// This should correspond to a unique id for the current user.</span><span></span></div><div><span>8</span><span>      client_user_id</span><span>:</span><span> clientUserId</span><span>,</span><span></span></div><div><span>9</span><span>      phone_number</span><span>:</span><span> </span><span>'123-456-7890'</span><span>,</span><span></span></div><div><span>10</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>11</span><span>    transfer</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>      payment_profile_token</span><span>:</span><span> paymentProfileToken</span><span>,</span><span></span></div><div><span>13</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>14</span><span>    client_name</span><span>:</span><span> </span><span>'Plaid Test App'</span><span>,</span><span></span></div><div><span>15</span><span>    products</span><span>:</span><span> </span><span>[</span><span>'transfer'</span><span>]</span><span>,</span><span></span></div><div><span>16</span><span>    language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>17</span><span>    webhook</span><span>:</span><span> </span><span>'https://webhook.example.com'</span><span>,</span><span></span></div><div><span>18</span><span>    redirect_uri</span><span>:</span><span> </span><span>'https://domainname.com/oauth-page.html'</span><span>,</span><span></span></div><div><span>19</span><span>    country_codes</span><span>:</span><span> </span><span>[</span><span>'US'</span><span>]</span><span>,</span><span></span></div><div><span>20</span><span>  </span><span>}</span><span>;</span><span></span></div><div><span>21</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>22</span><span>    </span><span>const</span><span> createTokenResponse </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>23</span><span>    response</span><span>.</span><span>json</span><span>(</span><span>createTokenResponse</span><span>.</span><span>data</span><span>)</span><span>;</span><span></span></div><div><span>24</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>25</span><span>    </span><span>// handle error</span><span></span></div><div><span>26</span><span>  </span><span>}</span><span></span></div><div><span>27</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><h6 id="install-link-dependency">Install Link dependency</h6><div role="group"><div><label>index.html</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>&lt;</span><span>head</span><span>&gt;</span><span></span></div><div><span>2</span><span>  </span><span>&lt;</span><span>title</span><span>&gt;</span><span>Connect a bank</span><span>&lt;/</span><span>title</span><span>&gt;</span><span></span></div><div><span>3</span><span>  </span><span>&lt;</span><span>script</span><span> </span><span>src</span><span>=</span><span>"</span><span>https://cdn.plaid.com/link/v2/stable/link-initialize.js</span><span>"</span><span>&gt;</span><span></span><span>&lt;/</span><span>script</span><span>&gt;</span><span></span></div><div><span>4</span><span></span><span>&lt;/</span><span>head</span><span>&gt;</span></div></code></pre></div></div></div><h6 id="configure-the-client-side-link-handler">Configure the client-side Link handler</h6><div role="group"><div><label>app.js</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> linkHandler </span><span>=</span><span> </span><span>Plaid</span><span>.</span><span>create</span><span>(</span><span>{</span><span></span></div><div><span>2</span><span>  token</span><span>:</span><span> </span><span>(</span><span>await</span><span> $</span><span>.</span><span>post</span><span>(</span><span>'/create_link_token'</span><span>)</span><span>)</span><span>.</span><span>link_token</span><span>,</span><span></span></div><div><span>3</span><span>  </span><span>onSuccess</span><span>:</span><span> </span><span>(</span><span>public_token</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    </span><span>// Send the public_token to your app server.</span><span></span></div><div><span>5</span><span>    $</span><span>.</span><span>post</span><span>(</span><span>'/exchange_public_token'</span><span>,</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>      public_token</span><span>:</span><span> public_token</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>8</span><span>    </span><span>if</span><span> </span><span>(</span><span>metadata</span><span>.</span><span>transfer_status</span><span> </span><span>===</span><span>"COMPLETE"</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>9</span><span>    </span><span>//   Get transfer_id from transfer/intent/get endpoint and save</span><span></span></div><div><span>10</span><span>    </span><span>//   transfer to datastore.</span><span></span></div><div><span>11</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>12</span><span>  </span><span>onExit</span><span>:</span><span> </span><span>(</span><span>err</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>    </span><span>// Optionally capture when your user exited the Link flow.</span><span></span></div><div><span>14</span><span>    </span><span>// Storing this information can be helpful for support.</span><span></span></div><div><span>15</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>16</span><span>  </span><span>onEvent</span><span>:</span><span> </span><span>(</span><span>eventName</span><span>,</span><span> metadata</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></div><div><span>17</span><span>    </span><span>// Optionally capture Link flow events, streamed through</span><span></span></div><div><span>18</span><span>    </span><span>// this callback as your users connect an Item to Plaid.</span><span></span></div><div><span>19</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>20</span><span></span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>21</span><span></span></div><div><span>22</span><span>linkHandler</span><span>.</span><span>open</span><span>(</span><span>)</span><span>;</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#if-not-using-a-payment-profile-get-a-persistent-access_token"><h5>(If not using a Payment Profile) Get a persistent access_token<span data-algolia="linkedHeadingAnchor" id="if-not-using-a-payment-profile-get-a-persistent-access_token"></span></h5></a><p>This step is only necessary if not using a Payment Profile. If you are using one, proceed to <a href="/docs/transfer/add-to-app/#create-a-transfer-authorization-id">Create a transfer authorization id</a>.</p><p>Next, on the server side, we need to exchange our <code>public_token</code> for an <code>access_token</code> and <code>item_id</code>. The <code>access_token</code> will allow us to make authenticated calls to the Plaid API. Doing so is as easy as calling the <a href="/docs/api/tokens/#itempublic_tokenexchange"><code>/item/public_token/exchange</code></a> endpoint from our server-side handler. We'll use the client library we configured earlier to make the API call.</p><p>Save the <code>access_token</code> and <code>item_id</code> in a secure datastore, as they’re used to access <code>Item</code> data and identify <code>webhooks</code>, respectively. The <code>access_token</code> will remain valid unless you actively chose to expire it via rotation or remove the corresponding Item via <a href="/docs/api/items/#itemremove"><code>/item/remove</code></a>. The <code>access_token</code> should be stored securely, and never in client-side code. A <code>public_token</code> is a one-time use token with a lifetime of 30 minutes, so there is no need to store it.</p><span id="content-switcher-unique-id-152">Select group for content switcher</span><div><div aria-labelledby="content-switcher-unique-id-152" role="radiogroup"><button aria-checked="true" role="radio" type="button"><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span><span>Current libraries</span></span></button><button aria-checked="false" role="radio" type="button"><span><span>Legacy libraries</span></span></button></div></div><div><div role="group"><div><label>server.js</label><div><div><div><div><button aria-controls="dropdown-unique-id-153" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-153" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/exchange_public_token'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span></span></div><div><span>2</span><span>  </span><span>request</span><span>,</span><span></span></div><div><span>3</span><span>  response</span><span>,</span><span></span></div><div><span>4</span><span>  next</span><span>,</span><span></span></div><div><span>5</span><span></span><span>)</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>  </span><span>const</span><span> publicToken </span><span>=</span><span> request</span><span>.</span><span>body</span><span>.</span><span>public_token</span><span>;</span><span></span></div><div><span>7</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>    </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>itemPublicTokenExchange</span><span>(</span><span>{</span><span></span></div><div><span>9</span><span>      public_token</span><span>:</span><span> publicToken</span><span>,</span><span></span></div><div><span>10</span><span>    </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>11</span><span></span></div><div><span>12</span><span>    </span><span>// These values should be saved to a persistent database and</span><span></span></div><div><span>13</span><span>    </span><span>// associated with the currently signed-in user</span><span></span></div><div><span>14</span><span>    </span><span>const</span><span> accessToken </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>access_token</span><span>;</span><span></span></div><div><span>15</span><span>    </span><span>const</span><span> itemID </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>item_id</span><span>;</span><span></span></div><div><span>16</span><span></span></div><div><span>17</span><span>    res</span><span>.</span><span>json</span><span>(</span><span>{</span><span> public_token_exchange</span><span>:</span><span> </span><span>'complete'</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></div><div><span>18</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>19</span><span>    </span><span>// handle error</span><span></span></div><div><span>20</span><span>  </span><span>}</span><span></span></div><div><span>21</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div></div><a href="/docs/transfer/add-to-app/#create-a-transfer-authorization-id"><h5>Create a transfer authorization id<span data-algolia="linkedHeadingAnchor" id="create-a-transfer-authorization-id"></span></h5></a><p>To get authorization to create a transfer and determine the transfer failure risk, call the <a href="/docs/api/products/transfer/#transferauthorizationcreate"><code>/transfer/authorization/create</code></a> endpoint with the following:</p><ul><li><p>The user's <code>payment_profile_token</code> or <code>access_token</code> and the <code>account_id</code> (the account must be either a checking or savings account)</p></li><li><p>The <code>amount</code> (fund amount) you’re sending</p></li><li><p><code>type</code> as <code>credit</code> if sending funds, or <code>type</code> as <code>debit</code> if receiving funds</p></li><li><p><code>ach_class</code> as <code>ppd</code> for a personal account, or as <code>ccd</code> for a business account</p></li><li><p><code>user</code> object with <code>legal_name</code> and other information (if you've specified <code>ccd</code> as the <code>ach_class</code>, you'll also need to specify the business’s name on the account within the <code>user.legal_name</code> parameter; if set to a person’s name it will be rejected).</p></li></ul><div role="group"><div><label>Calling /transfer/authorization/create</label><div><div><div><div><button aria-controls="dropdown-unique-id-154" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-154" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>TransferAuthorizationCreateRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  payment_profile_token</span><span>:</span><span> </span><span>'PAYMENT_PROFILE_TOKEN'</span><span>,</span><span></span></div><div><span>3</span><span>  type</span><span>:</span><span> </span><span>'debit'</span><span>,</span><span></span></div><div><span>4</span><span>  network</span><span>:</span><span> </span><span>'ach'</span><span>,</span><span></span></div><div><span>5</span><span>  amount</span><span>:</span><span> </span><span>'12.34'</span><span>,</span><span></span></div><div><span>6</span><span>  ach_class</span><span>:</span><span> </span><span>'ppd'</span><span>,</span><span></span></div><div><span>7</span><span>  user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>    legal_name</span><span>:</span><span> </span><span>'Anna Charleston'</span><span>,</span><span></span></div><div><span>9</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>10</span><span></span><span>}</span><span>;</span><span></span></div><div><span>11</span><span></span></div><div><span>12</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>13</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>transferAuthorizationCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>14</span><span>  </span><span>const</span><span> authorizationId </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>authorization</span><span>.</span><span>id</span><span>;</span><span></span></div><div><span>15</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>16</span><span>  </span><span>// handle error</span><span></span></div><div><span>17</span><span></span><span>}</span></div></code></pre></div></div></div><p>The response will contain an <code>authorization</code> object with details about the transfer authorization, including:</p><ul><li><p><code>authorization.id</code>: you'll need this to create the transfer in next step (this expires after 24 hours so you should persist this in a datastore)</p></li><li><p><code>authorization.decision</code>: the decision from the authorization engine regarding the transfer. If this decision is <code>"approved"</code>, you can proceed to the next step and create the transfer. If the <code>decision</code> is <code>"declined"</code>, you will not be able to create the transfer (for more information on the <code>decision</code> and <code>decision_rationale</code> fields, see <a href="/docs/api/products/transfer/#transfer-authorization-create-response-authorization">Transfer decision authorization</a>).</p></li></ul><div role="group"><div><label>Response from /transfer/authorization/create</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>"authorization"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    </span><span>"id"</span><span>:</span><span> </span><span>"560cbe92-2dcc-8eae-5ad6-b37d0ec90fd9"</span><span>,</span><span></span></div><div><span>4</span><span>    </span><span>"created"</span><span>:</span><span> </span><span>"2020-08-06T17:27:15Z"</span><span>,</span><span></span></div><div><span>5</span><span>    </span><span>"decision"</span><span>:</span><span> </span><span>"approved"</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>"decision_rationale"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>"proposed_transfer"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>      </span><span>"ach_class"</span><span>:</span><span> </span><span>"ppd"</span><span>,</span><span></span></div><div><span>9</span><span>      </span><span>"account_id"</span><span>:</span><span> </span><span>"3gE5gnRzNyfXpBK5wEEKcymJ5albGVUqg77gr"</span><span>,</span><span></span></div><div><span>10</span><span>      </span><span>"type"</span><span>:</span><span> </span><span>"debit"</span><span>,</span><span></span></div><div><span>11</span><span>      </span><span>"user"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>        </span><span>"legal_name"</span><span>:</span><span> </span><span>"Anna Charleston"</span><span>,</span><span></span></div><div><span>13</span><span>        </span><span>"phone_number"</span><span>:</span><span> </span><span>"510-555-0128"</span><span>,</span><span></span></div><div><span>14</span><span>        </span><span>"email_address"</span><span>:</span><span> </span><span>"acharleston@email.com"</span><span>,</span><span></span></div><div><span>15</span><span>        </span><span>"address"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>16</span><span>          </span><span>"street"</span><span>:</span><span> </span><span>"100 Market Street"</span><span>,</span><span></span></div><div><span>17</span><span>          </span><span>"city"</span><span>:</span><span> </span><span>"San Francisco"</span><span>,</span><span></span></div><div><span>18</span><span>          </span><span>"region"</span><span>:</span><span> </span><span>"California"</span><span>,</span><span></span></div><div><span>19</span><span>          </span><span>"postal_code"</span><span>:</span><span> </span><span>"94103"</span><span>,</span><span></span></div><div><span>20</span><span>          </span><span>"country"</span><span>:</span><span> </span><span>"US"</span><span></span></div><div><span>21</span><span>        </span><span>}</span><span></span></div><div><span>22</span><span>      </span><span>}</span><span>,</span><span></span></div><div><span>23</span><span>      </span><span>"amount"</span><span>:</span><span> </span><span>"12.34"</span><span>,</span><span></span></div><div><span>24</span><span>      </span><span>"network"</span><span>:</span><span> </span><span>"ach"</span><span>,</span><span></span></div><div><span>25</span><span>      </span><span>"origination_account_id"</span><span>:</span><span> </span><span>"0123-4567-8901-2345-67890123"</span><span></span></div><div><span>26</span><span>    </span><span>}</span><span></span></div><div><span>27</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>28</span><span>  </span><span>"request_id"</span><span>:</span><span> </span><span>"saKrIBuEB9qJZno"</span><span></span></div><div><span>29</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#create-the-transfer"><h5>Create the transfer<span data-algolia="linkedHeadingAnchor" id="create-the-transfer"></span></h5></a><p>Create the transfer by calling the <a href="/docs/api/products/transfer/#transfercreate"><code>/transfer/create</code></a> endpoint with the following:</p><ul><li><p>The <code>authorization_id</code> of the transfer (returned from the previous step)</p></li><li><p>user’s <code>payment_profile_token</code> or <code>access_token</code> and <code>account_id</code></p></li><li><p><code>amount</code> you’re sending</p></li><li><p><code>type</code> as <code>debit</code> or <code>credit</code></p></li><li><p><code>ach_class</code> (either <code>ppd</code> for a personal account or <code>ccd</code> for a business account)</p></li><li><p><code>user</code> object with <code>legal_name</code> and other information (if you've specified <code>ccd</code> as the <code>ach_class</code>, you'll also need to specify the business’s name on the account within the <code>user.legal_name</code> parameter; if set to a person’s name it will be rejected).</p></li><li><p>If reprocessing a returned transfer, please note that the <code>description</code> field must be <code>"Retry"</code> to indicate that it's a retry of a previously returned transfer. You may retry a transfer up to 2 times, within 180 days of creating the original transfer. Only transfers that were returned with code <code>R01</code> or <code>R09</code> may be retried. For a full listing of ACH return codes, see <a href="https://plaid.com/docs/errors/transfer/#ach-return-codes" rel="nofollow noopener noreferrer" target="_blank">Transfer errors</a>.</p></li></ul><div role="group"><div><label>Calling /transfer/create</label><div><div><div><div><button aria-controls="dropdown-unique-id-155" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-155" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>TransferCreateRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  type</span><span>:</span><span> </span><span>'debit'</span><span>,</span><span></span></div><div><span>3</span><span>  network</span><span>:</span><span> </span><span>'ach'</span><span>,</span><span></span></div><div><span>4</span><span>  amount</span><span>:</span><span> </span><span>'12.34'</span><span>,</span><span></span></div><div><span>5</span><span>  description</span><span>:</span><span> </span><span>'payment'</span><span>,</span><span></span></div><div><span>6</span><span>  ach_class</span><span>:</span><span> </span><span>'ppd'</span><span>,</span><span></span></div><div><span>7</span><span>  user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>    legal_name</span><span>:</span><span> </span><span>'Anna Charleston'</span><span>,</span><span></span></div><div><span>9</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>10</span><span>  payment_profile_token</span><span>:</span><span> paymentProfileToken</span><span>,</span><span></span></div><div><span>11</span><span>  authorization_id</span><span>:</span><span> </span><span>'560cbe92-2dcc-8eae-5ad6-b37d0ec90fd9'</span><span>,</span><span></span></div><div><span>12</span><span></span><span>}</span><span>;</span><span></span></div><div><span>13</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>14</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>transferCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>15</span><span>  </span><span>const</span><span> transfer </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>transfer</span><span>;</span><span></span></div><div><span>16</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>17</span><span>  </span><span>// handle error</span><span></span></div><div><span>18</span><span></span><span>}</span></div></code></pre></div></div></div><p>Your transfer is now complete. In the response is a <code>transfer</code> object, which contains the details of the transfer you just created, including a <code>status</code> field. Possible values for the <code>status</code> are <code>pending</code>, <code>posted</code>, <code>cancelled</code>, <code>failed</code>, or <code>reversed</code>. Learn more about <a href="https://plaid.com/docs/transfer/sweeping-funds/#transfer-states-and-events" rel="nofollow noopener noreferrer" target="_blank">Transfer states</a> to better understand these values. We recommend persisting the <code>transfer_id</code> in a datastore as you’ll need this when <a href="/docs/transfer/reconciling-transfers/">reconciling transactions</a> or <a href="/docs/api/products/transfer/#transfercancel">canceling a transaction</a>. You can use this <code>transfer_id</code> going forward to call the <a href="/docs/api/products/transfer/#transferget"><code>/transfer/get</code></a> endpoint to get a transfer's status, as we did above for the transfer we created with Transfer UI.</p><div role="group"><div><label>Response from /transfer/create</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>"transfer"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    </span><span>"id"</span><span>:</span><span> </span><span>"560cbe92-2dcc-8eae-5ad6-b37d0ec90fd9"</span><span>,</span><span></span></div><div><span>4</span><span>    </span><span>"ach_class"</span><span>:</span><span> </span><span>"ppd"</span><span>,</span><span></span></div><div><span>5</span><span>    </span><span>"account_id"</span><span>:</span><span> </span><span>"3gE5gnRzNyfXpBK5wEEKcymJ5albGVUqg77gr"</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>"type"</span><span>:</span><span> </span><span>"debit"</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>"user"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>      </span><span>"legal_name"</span><span>:</span><span> </span><span>"Anna Charleston"</span><span>,</span><span></span></div><div><span>9</span><span>      </span><span>"phone_number"</span><span>:</span><span> </span><span>"510-555-0128"</span><span>,</span><span></span></div><div><span>10</span><span>      </span><span>"email_address"</span><span>:</span><span> </span><span>"acharleston@email.com"</span><span>,</span><span></span></div><div><span>11</span><span>      </span><span>"address"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>        </span><span>"street"</span><span>:</span><span> </span><span>"100 Market Street"</span><span>,</span><span></span></div><div><span>13</span><span>        </span><span>"city"</span><span>:</span><span> </span><span>"San Francisco"</span><span>,</span><span></span></div><div><span>14</span><span>        </span><span>"region"</span><span>:</span><span> </span><span>"California"</span><span>,</span><span></span></div><div><span>15</span><span>        </span><span>"postal_code"</span><span>:</span><span> </span><span>"94103"</span><span>,</span><span></span></div><div><span>16</span><span>        </span><span>"country"</span><span>:</span><span> </span><span>"US"</span><span></span></div><div><span>17</span><span>      </span><span>}</span><span></span></div><div><span>18</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>19</span><span>    </span><span>"amount"</span><span>:</span><span> </span><span>"12.34"</span><span>,</span><span></span></div><div><span>20</span><span>    </span><span>"description"</span><span>:</span><span> </span><span>"A description of the transfer"</span><span>,</span><span></span></div><div><span>21</span><span>    </span><span>"created"</span><span>:</span><span> </span><span>"2020-08-06T17:27:15Z"</span><span>,</span><span></span></div><div><span>22</span><span>    </span><span>"status"</span><span>:</span><span> </span><span>"pending"</span><span>,</span><span></span></div><div><span>23</span><span>    </span><span>"network"</span><span>:</span><span> </span><span>"ach"</span><span>,</span><span></span></div><div><span>24</span><span>    </span><span>"cancellable"</span><span>:</span><span> </span><span>true</span><span>,</span><span></span></div><div><span>25</span><span>    </span><span>"failure_reason"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>26</span><span>    </span><span>"metadata"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>27</span><span>      </span><span>"key1"</span><span>:</span><span> </span><span>"value1"</span><span>,</span><span></span></div><div><span>28</span><span>      </span><span>"key2"</span><span>:</span><span> </span><span>"value2"</span><span></span></div><div><span>29</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>30</span><span>    </span><span>"origination_account_id"</span><span>:</span><span> </span><span>"0123-4567-8901-2345-67890123"</span><span></span></div><div><span>31</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>32</span><span>  </span><span>"request_id"</span><span>:</span><span> </span><span>"saKrIBuEB9qJZno"</span><span></span></div><div><span>33</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#link-and-transfer-ui"><h4>Link and Transfer UI<span data-algolia="linkedHeadingAnchor" id="link-and-transfer-ui"></span></h4></a><a href="/docs/transfer/add-to-app/#link-customization"><h5>Link Customization<span data-algolia="linkedHeadingAnchor" id="link-customization"></span></h5></a><p>To use Transfer UI, in the <a href="https://dashboard.plaid.com/link/account-select" rel="nofollow noopener noreferrer" target="_blank">Plaid Dashboard</a>, create a new customization for Transfer UI with Account Select v2 ("ASv2") and the view behavior set to "Enabled for one account". This is the only view behavior supported by Transfer UI. You will use the Link customization name you set here when you create a Link token below.</p><a href="/docs/transfer/add-to-app/#generate-a-transfer-intent-object"><h5>Generate a transfer intent object<span data-algolia="linkedHeadingAnchor" id="generate-a-transfer-intent-object"></span></h5></a><p>The first step to launch Transfer UI is to call the <a href="/docs/api/products/transfer/#transferintentcreate"><code>/transfer/intent/create</code></a> endpoint. This endpoint generates a transfer intent object. Take special note of the <code>id</code> field returned in the transfer intent object and save it in your datastore. The value of this field is Plaid's unique identifier for the transfer intent object and can be used later to track the status of a transfer intent and retrieve data regarding the transfer you create with Transfer UI. This transfer intent ID will be used below when you create a Link token.</p><div role="group"><div><label>Calling /transfer/intent/create</label><div><div><div><div><button aria-controls="dropdown-unique-id-156" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-156" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>TransferIntentCreateRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  mode</span><span>:</span><span> </span><span>'PAYMENT'</span><span></span></div><div><span>3</span><span>  amount</span><span>:</span><span> </span><span>'12.34'</span><span>,</span><span></span></div><div><span>4</span><span>  description</span><span>:</span><span> </span><span>'payment'</span><span>,</span><span></span></div><div><span>5</span><span>  ach_class</span><span>:</span><span> </span><span>'ppd'</span><span>,</span><span></span></div><div><span>6</span><span>  user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>7</span><span>    legal_name</span><span>:</span><span> </span><span>'Leslie Knope'</span><span>,</span><span></span></div><div><span>8</span><span>  </span><span>}</span><span></span></div><div><span>9</span><span></span><span>}</span><span>;</span><span></span></div><div><span>10</span><span></span></div><div><span>11</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>transferIntentCreate</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>13</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>14</span><span>  </span><span>// handle error</span><span></span></div><div><span>15</span><span></span><span>}</span></div></code></pre></div></div></div><div role="group"><div><label>Response from transfer/intent/create</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>"transfer_intent"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    </span><span>"ach_class"</span><span>:</span><span> </span><span>"ppd"</span><span>,</span><span></span></div><div><span>4</span><span>    </span><span>"amount"</span><span>:</span><span> </span><span>"12.34"</span><span>,</span><span></span></div><div><span>5</span><span>    </span><span>"iso_currency_code"</span><span>:</span><span> </span><span>"USD"</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>"created"</span><span>:</span><span> </span><span>"2020-08-06T17:27:15Z"</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>"description"</span><span>:</span><span> </span><span>"payment"</span><span>,</span><span></span></div><div><span>8</span><span>    </span><span>"id"</span><span>:</span><span> </span><span>"460cbe92-2dcc-8eae-5ad6-b37d0ec90fd9"</span><span>,</span><span></span></div><div><span>9</span><span>    </span><span>"metadata"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>10</span><span>      </span><span>"key1"</span><span>:</span><span> </span><span>"value1"</span><span>,</span><span></span></div><div><span>11</span><span>      </span><span>"key2"</span><span>:</span><span> </span><span>"value2"</span><span></span></div><div><span>12</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>13</span><span>    </span><span>"mode"</span><span>:</span><span> </span><span>"PAYMENT"</span><span>,</span><span></span></div><div><span>14</span><span>    </span><span>"origination_account_id"</span><span>:</span><span> </span><span>"9853defc-e703-463d-86b1-dc0607a45359"</span><span>,</span><span></span></div><div><span>15</span><span>    </span><span>"status"</span><span>:</span><span> </span><span>"PENDING"</span><span>,</span><span></span></div><div><span>16</span><span>    </span><span>"user"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>17</span><span>      </span><span>"address"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>18</span><span>        </span><span>"street"</span><span>:</span><span> </span><span>"100 Market Street"</span><span>,</span><span></span></div><div><span>19</span><span>        </span><span>"city"</span><span>:</span><span> </span><span>"San Francisco"</span><span>,</span><span></span></div><div><span>20</span><span>        </span><span>"region"</span><span>:</span><span> </span><span>"CA"</span><span>,</span><span></span></div><div><span>21</span><span>        </span><span>"postal_code"</span><span>:</span><span> </span><span>"94103"</span><span>,</span><span></span></div><div><span>22</span><span>        </span><span>"country"</span><span>:</span><span> </span><span>"US"</span><span></span></div><div><span>23</span><span>      </span><span>}</span><span>,</span><span></span></div><div><span>24</span><span>      </span><span>"email_address"</span><span>:</span><span> </span><span>"lknope@email.com"</span><span>,</span><span></span></div><div><span>25</span><span>      </span><span>"legal_name"</span><span>:</span><span> </span><span>"Leslie Knope"</span><span>,</span><span></span></div><div><span>26</span><span>      </span><span>"phone_number"</span><span>:</span><span> </span><span>"123-456-7890"</span><span></span></div><div><span>27</span><span>    </span><span>}</span><span></span></div><div><span>28</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>29</span><span>  </span><span>"request_id"</span><span>:</span><span> </span><span>"saKrIBuEB9qJZno"</span><span></span></div><div><span>30</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#initialize-link-with-transfer-ui"><h5>Initialize Link with Transfer UI<span data-algolia="linkedHeadingAnchor" id="initialize-link-with-transfer-ui"></span></h5></a><p>Plaid Link is a drop-in module that provides a secure, elegant authentication flow
for each institution that Plaid supports. Link makes it secure and easy for users to
connect their bank accounts to Plaid. Transfer UI works with Link to provide users with an interface to authorize ACH transfers. </p><p>Before initializing Link, you will need to create a new <code>link_token</code> on the server side of your application.
A <code>link_token</code> is a short-lived, one-time use token that is used to authenticate your app with Link.
You can create one using the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> endpoint. Then, on the client side of your application, you'll need to initialize Link with the <code>link_token</code> that you just created.</p><p>In the code samples below, you will need to replace <code>PLAID_CLIENT_ID</code> and <code>PLAID_SECRET</code> with your own keys, which you can obtain from the <a href="https://dashboard.plaid.com/developers/keys" rel="nofollow noopener noreferrer" target="_blank">Dashboard</a>.</p><p>Call <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> with the parameters shown in the code sample below. Note these parameters in particular:</p><ul><li><p><code>"transfer"</code> in the <code>products</code> array. Ensure that <code>"transfer"</code> is the only product being initialized.</p></li><li><p>A <code>transfer</code> object in the body of the create request. Within the <code>transfer</code> object, specify the transfer intent ID using the value of transfer intent id returned by the <a href="/docs/api/products/transfer/#transferintentcreate"><code>/transfer/intent/create</code></a> call you made above.</p></li><li><p>The name of your Link customization that you created in the dashboard for Transfer UI.</p></li></ul><div role="group"><div><label>Generating a Link token with the transfer intent ID</label><div><div><div><div><button aria-controls="dropdown-unique-id-157" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-157" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>// Using Express</span><span></span></div><div><span>2</span><span>app</span><span>.</span><span>post</span><span>(</span><span>'/api/create_link_token'</span><span>,</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>(</span><span>request</span><span>,</span><span> response</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>  </span><span>const</span><span> configs </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>4</span><span>    user</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>      </span><span>// This should correspond to a unique id for the current user.</span><span></span></div><div><span>6</span><span>      client_user_id</span><span>:</span><span> </span><span>'user-id'</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>8</span><span>    client_name</span><span>:</span><span> </span><span>'Plaid Test App'</span><span>,</span><span></span></div><div><span>9</span><span>    products</span><span>:</span><span> </span><span>[</span><span>Products</span><span>.</span><span>Transfer</span><span>]</span><span>,</span><span></span></div><div><span>10</span><span>    language</span><span>:</span><span> </span><span>'en'</span><span>,</span><span></span></div><div><span>11</span><span>    webhook</span><span>:</span><span> </span><span>'https://webhook.sample.com'</span><span>,</span><span></span></div><div><span>12</span><span>    country_codes</span><span>:</span><span> </span><span>[</span><span>'US'</span><span>]</span><span>,</span><span></span></div><div><span>13</span><span>    transfer</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>14</span><span>      intent_id</span><span>:</span><span> transferIntentId</span><span>,</span><span></span></div><div><span>15</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>16</span><span>    link_customization_name</span><span>:</span><span> process</span><span>.</span><span>env</span><span>.</span><span>LINK_CUSTOMIZATION_NAME</span><span>,</span><span></span></div><div><span>17</span><span>  </span><span>}</span><span>;</span><span></span></div><div><span>18</span><span>  </span><span>try</span><span> </span><span>{</span><span></span></div><div><span>19</span><span>    </span><span>const</span><span> createTokenResponse </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>linkTokenCreate</span><span>(</span><span>configs</span><span>)</span><span>;</span><span></span></div><div><span>20</span><span>    response</span><span>.</span><span>json</span><span>(</span><span>createTokenResponse</span><span>.</span><span>data</span><span>)</span><span>;</span><span></span></div><div><span>21</span><span>  </span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>22</span><span>    </span><span>// handle error</span><span></span></div><div><span>23</span><span>  </span><span>}</span><span></span></div><div><span>24</span><span></span><span>}</span><span>)</span><span>;</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#retrieve-the-transfer_id-and-status"><h5>Retrieve the transfer_id and status<span data-algolia="linkedHeadingAnchor" id="retrieve-the-transfer_id-and-status"></span></h5></a><p>The Link <code>onSuccess</code> callback function provides a metadata object with a <code>transfer_status</code> field that will be either <code>COMPLETE</code> or <code>INCOMPLETE</code>. If <code>INCOMPLETE</code>, the transfer could not be completed. For help, see <a href="http://plaid.com/docs/transfer/using-transfer-ui/#troubleshooting-transfers" rel="nofollow noopener noreferrer" target="_blank">Troubleshooting transfers</a></p><p>If <code>COMPLETE</code>, your transfer has been completed, and you can follow the next steps to obtain the <code>transfer_id</code> and save it to your datastore because you’ll need this when <a href="/docs/transfer/reconciling-transfers/">reconciling transactions</a> or <a href="/docs/api/products/transfer/#transfercancel">canceling a transaction</a>. You can use this <code>transfer_id</code> going forward to call the <a href="/docs/api/products/transfer/#transferget"><code>/transfer/get</code></a> endpoint to get a transfer's status.</p><p>Using the <code>transfer_intent_id</code> saved earlier from the <a href="/docs/api/products/transfer/#transferintentcreate"><code>/transfer/intent/create</code></a> call response, call the <a href="/docs/api/products/transfer/#transferintentget"><code>/transfer/intent/get</code></a> endpoint.</p><div role="group"><div><label>/transfer/intent/get</label><div><div><div><div><button aria-controls="dropdown-unique-id-158" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-158" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>TransferIntentGetRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  transfer_intent_id</span><span>:</span><span> </span><span>'460cbe92-2dcc-8eae-5ad6-b37d0ec90fd9'</span><span>,</span><span></span></div><div><span>3</span><span></span><span>}</span><span>;</span><span></span></div><div><span>4</span><span></span></div><div><span>5</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>6</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> client</span><span>.</span><span>transferIntentGet</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>7</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>  </span><span>// handle error</span><span></span></div><div><span>9</span><span></span><span>}</span></div></code></pre></div></div></div><p>The example response is below. Retrieve the <code>transfer_id</code> and save your transfer in your datastore.</p><div role="group"><div><label>Response from transfer/intent/get</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>"transfer_intent"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    </span><span>"account_id"</span><span>:</span><span> </span><span>"3gE5gnRzNyfXpBK5wEEKcymJ5albGVUqg77gr"</span><span>,</span><span></span></div><div><span>4</span><span>    </span><span>"ach_class"</span><span>:</span><span> </span><span>"ppd"</span><span>,</span><span></span></div><div><span>5</span><span>    </span><span>"amount"</span><span>:</span><span> </span><span>"12.34"</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>"iso_currency_code"</span><span>:</span><span> </span><span>"USD"</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>"authorization_decision"</span><span>:</span><span> </span><span>"APPROVED"</span><span>,</span><span></span></div><div><span>8</span><span>    </span><span>"authorization_decision_rationale"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>9</span><span>    </span><span>"created"</span><span>:</span><span> </span><span>"2019-12-09T17:27:15Z"</span><span>,</span><span></span></div><div><span>10</span><span>    </span><span>"description"</span><span>:</span><span> </span><span>"Desc"</span><span>,</span><span></span></div><div><span>11</span><span>    </span><span>"failure_reason"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>12</span><span>    </span><span>"guarantee_decision"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>13</span><span>    </span><span>"guarantee_decision_rationale"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>14</span><span>    </span><span>"id"</span><span>:</span><span> </span><span>"460cbe92-2dcc-8eae-5ad6-b37d0ec90fd9"</span><span>,</span><span></span></div><div><span>15</span><span>    </span><span>"metadata"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>16</span><span>      </span><span>"key1"</span><span>:</span><span> </span><span>"value1"</span><span>,</span><span></span></div><div><span>17</span><span>      </span><span>"key2"</span><span>:</span><span> </span><span>"value2"</span><span></span></div><div><span>18</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>19</span><span>    </span><span>"mode"</span><span>:</span><span> </span><span>"DISBURSEMENT"</span><span>,</span><span></span></div><div><span>20</span><span>    </span><span>"origination_account_id"</span><span>:</span><span> </span><span>"9853defc-e703-463d-86b1-dc0607a45359"</span><span>,</span><span></span></div><div><span>21</span><span>    </span><span>"status"</span><span>:</span><span> </span><span>"SUCCEEDED"</span><span>,</span><span></span></div><div><span>22</span><span>    </span><span>"transfer_id"</span><span>:</span><span> </span><span>"590ecd12-1dcc-7eae-4ad6-c28d1ec90df2"</span><span>,</span><span></span></div><div><span>23</span><span>    </span><span>"user"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>24</span><span>      </span><span>"address"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>25</span><span>        </span><span>"street"</span><span>:</span><span> </span><span>"123 Main St."</span><span>,</span><span></span></div><div><span>26</span><span>        </span><span>"city"</span><span>:</span><span> </span><span>"San Francisco"</span><span>,</span><span></span></div><div><span>27</span><span>        </span><span>"region"</span><span>:</span><span> </span><span>"California"</span><span>,</span><span></span></div><div><span>28</span><span>        </span><span>"postal_code"</span><span>:</span><span> </span><span>"94053"</span><span>,</span><span></span></div><div><span>29</span><span>        </span><span>"country"</span><span>:</span><span> </span><span>"US"</span><span></span></div><div><span>30</span><span>      </span><span>}</span><span>,</span><span></span></div><div><span>31</span><span>      </span><span>"email_address"</span><span>:</span><span> </span><span>"acharleston@email.com"</span><span>,</span><span></span></div><div><span>32</span><span>      </span><span>"legal_name"</span><span>:</span><span> </span><span>"Anne Charleston"</span><span>,</span><span></span></div><div><span>33</span><span>      </span><span>"phone_number"</span><span>:</span><span> </span><span>"510-555-0128"</span><span></span></div><div><span>34</span><span>    </span><span>}</span><span></span></div><div><span>35</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>36</span><span>  </span><span>"request_id"</span><span>:</span><span> </span><span>"saKrIBuEB9qJZno"</span><span></span></div><div><span>37</span><span></span><span>}</span></div></code></pre></div></div></div><p>Finally, obtain the status of your transfer by calling the <a href="/docs/api/products/transfer/#transferget"><code>/transfer/get</code></a> endpoint with the <code>transfer_id</code> we just retrieved:</p><div role="group"><div><label>/transfer/get</label><div><div><div><div><button aria-controls="dropdown-unique-id-159" aria-expanded="false" aria-haspopup="true" aria-label="Select Language" type="button"><span>Node</span><i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M12 14.06l-3.53-3.53 1.06-1.06L12 11.94l2.47-2.47 1.06 1.06z" fill="currentColor"></path></g></svg></i></button></div><div data-popper-escaped="true" data-popper-placement="top" data-popper-reference-hidden="true" role="tooltip"><span>Select Language</span></div></div><div id="dropdown-unique-id-159" role="menu"><ul><li><button aria-current="false" label="Curl" type="button" value="bash"><span><span>Curl</span></span></button></li><li><button aria-current="true" label="Node" type="button" value="node"><span><span>Node</span></span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></button></li><li><button aria-current="false" label="Python" type="button" value="python"><span><span>Python</span></span></button></li><li><button aria-current="false" label="Ruby" type="button" value="ruby"><span><span>Ruby</span></span></button></li><li><button aria-current="false" label="Java" type="button" value="java"><span><span>Java</span></span></button></li><li><button aria-current="false" label="Go" type="button" value="go"><span><span>Go</span></span></button></li></ul></div></div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>const</span><span> request</span><span>:</span><span> </span><span>TransferGetRequest</span><span> </span><span>=</span><span> </span><span>{</span><span></span></div><div><span>2</span><span>  transfer_id</span><span>:</span><span> </span><span>'460cbe92-2dcc-8eae-5ad6-b37d0ec90fd9'</span><span>,</span><span></span></div><div><span>3</span><span></span><span>}</span><span>;</span><span></span></div><div><span>4</span><span></span><span>try</span><span> </span><span>{</span><span></span></div><div><span>5</span><span>  </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> plaidClient</span><span>.</span><span>transferGet</span><span>(</span><span>request</span><span>)</span><span>;</span><span></span></div><div><span>6</span><span>  </span><span>const</span><span> transfer </span><span>=</span><span> response</span><span>.</span><span>data</span><span>.</span><span>transfer</span><span>;</span><span></span></div><div><span>7</span><span></span><span>}</span><span> </span><span>catch</span><span> </span><span>(</span><span>error</span><span>)</span><span> </span><span>{</span><span></span></div><div><span>8</span><span>  </span><span>// handle error</span><span></span></div><div><span>9</span><span></span><span>}</span></div></code></pre></div></div></div><p>Below is an example of the <a href="/docs/api/products/transfer/#transferget"><code>/transfer/get</code></a> response, which includes the status of your transfer. Use this to update your transfer's status in the datastore.</p><div role="group"><div><label>Response from transfer/get</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span>{</span><span></span></div><div><span>2</span><span>  </span><span>"transfer"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>3</span><span>    </span><span>"account_id"</span><span>:</span><span> </span><span>"3gE5gnRzNyfXpBK5wEEKcymJ5albGVUqg77gr"</span><span>,</span><span></span></div><div><span>4</span><span>    </span><span>"ach_class"</span><span>:</span><span> </span><span>"ppd"</span><span>,</span><span></span></div><div><span>5</span><span>    </span><span>"amount"</span><span>:</span><span> </span><span>"12.34"</span><span>,</span><span></span></div><div><span>6</span><span>    </span><span>"cancellable"</span><span>:</span><span> </span><span>true</span><span>,</span><span></span></div><div><span>7</span><span>    </span><span>"created"</span><span>:</span><span> </span><span>"2020-08-06T17:27:15Z"</span><span>,</span><span></span></div><div><span>8</span><span>    </span><span>"description"</span><span>:</span><span> </span><span>"Desc"</span><span>,</span><span></span></div><div><span>9</span><span>    </span><span>"guarantee_decision"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>10</span><span>    </span><span>"guarantee_decision_rationale"</span><span>:</span><span> </span><span>null</span><span>,</span><span></span></div><div><span>11</span><span>    </span><span>"failure_reason"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>12</span><span>      </span><span>"ach_return_code"</span><span>:</span><span> </span><span>"R13"</span><span>,</span><span></span></div><div><span>13</span><span>      </span><span>"description"</span><span>:</span><span> </span><span>"Invalid ACH routing number"</span><span></span></div><div><span>14</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>15</span><span>    </span><span>"id"</span><span>:</span><span> </span><span>"460cbe92-2dcc-8eae-5ad6-b37d0ec90fd9"</span><span>,</span><span></span></div><div><span>16</span><span>    </span><span>"metadata"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>17</span><span>      </span><span>"key1"</span><span>:</span><span> </span><span>"value1"</span><span>,</span><span></span></div><div><span>18</span><span>      </span><span>"key2"</span><span>:</span><span> </span><span>"value2"</span><span></span></div><div><span>19</span><span>    </span><span>}</span><span>,</span><span></span></div><div><span>20</span><span>    </span><span>"network"</span><span>:</span><span> </span><span>"ach"</span><span>,</span><span></span></div><div><span>21</span><span>    </span><span>"origination_account_id"</span><span>:</span><span> </span><span>"8945fedc-e703-463d-86b1-dc0607b55460"</span><span>,</span><span></span></div><div><span>22</span><span>    </span><span>"status"</span><span>:</span><span> </span><span>"pending"</span><span>,</span><span></span></div><div><span>23</span><span>    </span><span>"type"</span><span>:</span><span> </span><span>"credit"</span><span>,</span><span></span></div><div><span>24</span><span>    </span><span>"iso_currency_code"</span><span>:</span><span> </span><span>"USD"</span><span>,</span><span></span></div><div><span>25</span><span>    </span><span>"user"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>26</span><span>      </span><span>"email_address"</span><span>:</span><span> </span><span>"acharleston@email.com"</span><span>,</span><span></span></div><div><span>27</span><span>      </span><span>"legal_name"</span><span>:</span><span> </span><span>"Anne Charleston"</span><span>,</span><span></span></div><div><span>28</span><span>      </span><span>"phone_number"</span><span>:</span><span> </span><span>"510-555-0128"</span><span>,</span><span></span></div><div><span>29</span><span>      </span><span>"address"</span><span>:</span><span> </span><span>{</span><span></span></div><div><span>30</span><span>        </span><span>"street"</span><span>:</span><span> </span><span>"123 Main St."</span><span>,</span><span></span></div><div><span>31</span><span>        </span><span>"city"</span><span>:</span><span> </span><span>"San Francisco"</span><span>,</span><span></span></div><div><span>32</span><span>        </span><span>"region"</span><span>:</span><span> </span><span>"CA"</span><span>,</span><span></span></div><div><span>33</span><span>        </span><span>"postal_code"</span><span>:</span><span> </span><span>"94053"</span><span>,</span><span></span></div><div><span>34</span><span>        </span><span>"country"</span><span>:</span><span> </span><span>"US"</span><span></span></div><div><span>35</span><span>      </span><span>}</span><span></span></div><div><span>36</span><span>    </span><span>}</span><span></span></div><div><span>37</span><span>  </span><span>}</span><span>,</span><span></span></div><div><span>38</span><span>  </span><span>"request_id"</span><span>:</span><span> </span><span>"saKrIBuEB9qJZno"</span><span></span></div><div><span>39</span><span></span><span>}</span></div></code></pre></div></div></div><a href="/docs/transfer/add-to-app/#subsequent-transfers-with-transfer-ui"><h5>Subsequent transfers with Transfer UI<span data-algolia="linkedHeadingAnchor" id="subsequent-transfers-with-transfer-ui"></span></h5></a><p>After the initial transfer with Transfer UI, for subsequent transfers users will no longer need to link a bank account. You will go through the same steps that you took for the first transfer, but with the following differences:</p><ul><li><p>In the <a href="/docs/api/products/transfer/#transferintentcreate"><code>/transfer/intent/create</code></a> call you must include an <code>account_id</code> field. This is the <code>account_id</code> of the bank account that the user has already linked.</p></li><li><p>In the <a href="/docs/api/tokens/#linktokencreate"><code>/link/token/create</code></a> call you must include the <code>access_token</code> field in the Link parameters. This is the <code>access_token</code> that you previously saved in your datastore, which is associated with the item that was created the first time you launched Link and Transfer UI. Launching Link with an <code>access token</code> will bypass the account linking flow and move the user directly to the Transfer UI interface to authorize their transfer.</p></li></ul><a href="/docs/transfer/add-to-app/#sample-app-code"><h4>Sample app code<span data-algolia="linkedHeadingAnchor" id="sample-app-code"></span></h4></a><p>For a real-life example of an app that incorporates both Transfer and Transfer UI, see the Node-based <a href="https://github.com/plaid/pattern-transfers" rel="nofollow noopener noreferrer" target="_blank">Plaid Pattern Transfer</a> sample app. Pattern Transfer is a sample subscriptions payment app that enables ACH bank transfers.</p><a href="/docs/transfer/add-to-app/#next-steps"><h4>Next steps<span data-algolia="linkedHeadingAnchor" id="next-steps"></span></h4></a><p>Once Transfer and Transfer UI are implemented in your app, see <a href="https://plaid.com/docs/transfer/reconciling-transfers/" rel="nofollow noopener noreferrer" target="_blank">Reconciling Transfers</a> and <a href="https://plaid.com/docs/transfer/sweeping-funds/" rel="nofollow noopener noreferrer" target="_blank">Sweeping Funds</a> to learn about how to reconcile your transfers and how Plaid sweeps funds.</p><p>If you're ready to launch to Production, see the Launch checklist.</p><div data-algolia-remove="true"><a href="/docs/launch-checklist/"><span><div></div></span><h4>Launch checklist</h4><p>Recommended steps to take before launching in Production</p><span>Launch<i><svg aria-hidden="true" height="24" role="presentation" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path d="M11.55 15.54l-1.06-1.06 2.47-2.47-2.47-2.47 1.06-1.06 3.53 3.53z" fill="currentColor"></path></g></svg></i></span></a></div></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><div>
</div><div id="batBeacon971871808714"><img alt="" height="0" id="batBeacon52529737889" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=89ad1c2f-4f54-46e4-b3fd-f0a4020b4f34&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Transfer%20-%20Add%20transfer%20to%20your%20app%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;r=&amp;lt=912&amp;evt=pageLoad&amp;sv=1&amp;rn=846370" width="0"/><img alt="" height="0" id="batBeacon19108019662" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=89ad1c2f-4f54-46e4-b3fd-f0a4020b4f34&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=9802" width="0"/></div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=c1e870c4-8946-4a82-971b-2f9ddda30095&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=bb6fa01e-76a7-4064-b798-ecbec3975b61&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=c1e870c4-8946-4a82-971b-2f9ddda30095&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=bb6fa01e-76a7-4064-b798-ecbec3975b61&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=68c59fe1-e208-44d4-b505-cafcc6c61c31&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=bb6fa01e-76a7-4064-b798-ecbec3975b61&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=68c59fe1-e208-44d4-b505-cafcc6c61c31&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=bb6fa01e-76a7-4064-b798-ecbec3975b61&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Fadd-to-app%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe></body>