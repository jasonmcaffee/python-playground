<body><h1>transfer reconciling transfers </h1><div data-reactroot="" id="__next"><div><aside></aside><div><div tabindex="-1"><main data-algolia="pageContent"><div><div><div><h1>Reconciling Transfers</h1><h4>Learn how to reconcile transfers</h4><div></div></div></div></div><p>You can use the <a href="/docs/api/products/transfer/#transfereventsync"><code>/transfer/event/sync</code></a> endpoint to retrieve all of the events and statuses associated with your transfers. This is useful when performing reconciliation, as it guarantees that you've seen all transfer events. The main identifier for Plaid transfers is the <code>transfer_id</code>. You should plan to store this identifier to help facilitate transfer reconciliation.</p><div><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12.75 16h-1.5v-5h1.5zM12 8a1 1 0 101 1 1 1 0 00-1-1zm8.75 4A8.75 8.75 0 1012 20.75 8.77 8.77 0 0020.75 12zm-1.5 0A7.25 7.25 0 1112 4.75 7.26 7.26 0 0119.25 12z" fill="currentColor"></path></svg></i><div><p>This article describes how to programmatically track transfer events and status. If you would prefer to view this information via a graphical interface or a CSV file, see the <a href="/docs/transfer/dashboard/">Dashboard</a>.</p></div></div><a href="/docs/transfer/reconciling-transfers/#syncing-transfer-events"><h4>Syncing Transfer events<span data-algolia="linkedHeadingAnchor" id="syncing-transfer-events"></span></h4></a><p>First, retrieve from your datastore the last <code>event_id</code> that was retrieved from the sync endpoint and set that as your <code>after_id</code>.</p><div role="group"><div><label>Example pseudocode</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>after_id </span><span>=</span><span> yourDatabase.get</span><span>(</span><span>"after_id"</span><span>)</span><span></span></div><div><span>2</span><span>events </span><span>=</span><span> new Array</span><span>(</span><span>BankTransferEvent</span><span>)</span></div></code></pre></div></div></div><p>Next, call the <a href="/docs/api/products/transfer/#transfereventsync"><code>/transfer/event/sync</code></a> endpoint with that <code>after_id</code> and persist the returned events in your datastore. The endpoint will return a maximum of 25 events at a time. Continue calling the <a href="/docs/api/products/transfer/#transfereventsync"><code>/transfer/event/sync</code></a> endpoint, passing in the last <code>event_id</code> from the previous call until the response has zero results.</p><div role="group"><div><label>Example pseudocode</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="0"><div><pre><code><div><span>1</span><span># Start at the last event ID received</span><span></span></div><div><span>2</span><span>after_id </span><span>=</span><span> yourDatabase.get</span><span>(</span><span>"after_id"</span><span>)</span><span></span></div><div><span>3</span><span>events </span><span>=</span><span> new Array</span><span>(</span><span>BankTransferEvent</span><span>)</span><span></span></div><div><span>4</span><span></span></div><div><span>5</span><span></span><span># Poll event sync endpoint until there are no more new events</span><span></span></div><div><span>6</span><span></span><span>do</span><span> </span><span>{</span><span></span></div><div><span>7</span><span>  </span><span># Fetch the next set of events and update after_id</span><span></span></div><div><span>8</span><span>  events </span><span>=</span><span> plaidClient.BankTransferEventSync</span><span>(</span><span>after_id</span><span>)</span><span></span></div><div><span>9</span><span>  after_id </span><span>+=</span><span> len</span><span>(</span><span>events</span><span>)</span><span></span></div><div><span>10</span><span></span></div><div><span>11</span><span>  </span><span># Handle any new events</span><span></span></div><div><span>12</span><span>  </span><span>for</span><span> </span><span>event</span><span> </span><span>in</span><span> events </span><span>{</span><span></span></div><div><span>13</span><span>    </span><span># Store ID, event type (e.g. pending, posted, failed, canceled), timestamp</span><span></span></div><div><span>14</span><span>    yourDatabase.set</span><span>(</span><span>event.bank_transfer_id, event.event_type, event.timestamp</span><span>}</span><span></span></div><div><span>15</span><span></span><span>}</span><span> </span><span>while</span><span> </span><span>(</span><span>!</span><span>events.Empty</span><span>(</span><span>))</span><span>;</span></div></code></pre></div></div></div><p>Finally, persist that last <code>event_id</code> in your datastore to use the next time you perform this process.</p><div role="group"><div><label>Example pseudocode</label><div><button role="button" type="button"><span><span><span><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M21.54 11.12l-5.66-5.66a1.24 1.24 0 00-1.76 0l-2.2 2.2-2-2a1.26 1.26 0 00-1.75 0l-5.5 5.5a1.21 1.21 0 000 1.75l5.5 5.5a1.21 1.21 0 001.75 0l2.05-2 2.2 2.2a1.23 1.23 0 001.76 0l5.66-5.66a1.24 1.24 0 00-.05-1.83zM9 17.13L3.87 12 9 6.87l1.85 1.85-2.39 2.4a1.24 1.24 0 000 1.76l2.39 2.4zm6 .17L9.7 12 15 6.7l5.3 5.3z" fill="currentColor"></path></svg></i><i><svg aria-hidden="true" role="presentation" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10.03 17.09l-4.56-4.56 1.06-1.06 3.44 3.44 7.47-8.41 1.12 1-8.53 9.59z" fill="currentColor"></path></svg></i></span></span><span><span>Copy</span></span></span></button></div></div><div data-id="scroll-container" tabindex="-1"><div><pre><code><div><span>1</span><span>yourDatabase.set</span><span>(</span><span>"after_id"</span><span>, after_id</span><span>)</span></div></code></pre></div></div></div><a href="/docs/transfer/reconciling-transfers/#sample-app-code"><h4>Sample app code<span data-algolia="linkedHeadingAnchor" id="sample-app-code"></span></h4></a><p>For a real-life example of an app that incorporates the <a href="/docs/api/products/transfer/#transfereventsync"><code>/transfer/event/sync</code></a> endpoint, see the Node-based <a href="https://github.com/plaid/pattern-transfers" rel="nofollow noopener noreferrer" target="_blank">Plaid Pattern Transfer</a> sample app. Pattern Transfer is a sample subscriptions payment app that enables ACH bank transfers. The Transfer event sync code can be found in <a href="https://github.com/plaid/pattern-transfers/blob/master/server/webhookHandlers/handleTransferWebhook.js#L50-L102" rel="nofollow noopener noreferrer" target="_blank">handleTransferWebhook.js</a></p><a href="/docs/transfer/reconciling-transfers/#progression-of-transfer-events"><h4>Progression of Transfer events<span data-algolia="linkedHeadingAnchor" id="progression-of-transfer-events"></span></h4></a><p>A single transfer will have more than one event associated with it. For example, a successful transfer’s <code>status</code> will initially start out as <code>pending</code> before it’s sent to the ACH network, then move to <code>posted</code> when the funds are available in the account. Each of these status updates will return a unique event from the <a href="/docs/api/products/transfer/#transfereventsync"><code>/transfer/event/sync</code></a> endpoint, so, in this example, you’ll see two events for this particular <code>transfer_id</code> throughout its lifespan.</p><p>Listed below are the event transitions you will see as a transfer progresses through its lifespan.</p><table><thead><tr><th>Description</th><th>Event(s)</th></tr></thead><tbody><tr><td>You submitted a transfer</td><td>pending</td></tr><tr><td>You cancelled the transfer</td><td>pending → cancelled</td></tr><tr><td>The transfer could not be processed, reach out to your Plaid point of contact</td><td>pending → failed</td></tr><tr><td>Funds are available in your or your user’s account</td><td>pending → posted</td></tr><tr><td>Transfer has resulted in an ACH return and funds have been clawed back</td><td>pending → posted → returned</td></tr></tbody></table></main></div></div></div></div><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert"></p></next-route-announcer><div id="batBeacon109844059162"><img alt="" height="0" id="batBeacon454643091562" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=f71c1e54-d3cb-490d-bf1e-b841a78ea8cf&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;pi=0&amp;lg=en-US&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;tl=Transfer%20-%20Reconciling%20transfers%20%7C%20Plaid%20Docs&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;r=&amp;lt=752&amp;evt=pageLoad&amp;sv=1&amp;rn=65557" width="0"/><img alt="" height="0" id="batBeacon379559500011" src="https://bat.bing.com/action/0?ti=25047304&amp;Ver=2&amp;mid=f71c1e54-d3cb-490d-bf1e-b841a78ea8cf&amp;sid=839d8000406811ee9647031f9910d79d&amp;vid=839d8d20406811ee8b5bc59b5329b4ac&amp;vids=0&amp;msclkid=N&amp;ea=track&amp;el=DOCS_EVENT&amp;p=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;sw=5120&amp;sh=1440&amp;sc=24&amp;nwd=1&amp;evt=custom&amp;rn=546753" width="0"/></div><div>
</div><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=43c8f566-16ff-44ce-b041-5ed4c81c4387&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=e4f797b0-bab1-45a7-b303-f96d6a87b2f9&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=43c8f566-16ff-44ce-b041-5ed4c81c4387&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=e4f797b0-bab1-45a7-b303-f96d6a87b2f9&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://t.co/i/adsct?bci=3&amp;eci=2&amp;event_id=cef06618-0846-4de7-88ad-28c0b3ebad30&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=e4f797b0-bab1-45a7-b303-f96d6a87b2f9&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><img height="1" src="https://analytics.twitter.com/i/adsct?bci=3&amp;eci=2&amp;event_id=cef06618-0846-4de7-88ad-28c0b3ebad30&amp;events=%5B%5B%22pageview%22%2C%7B%7D%5D%5D&amp;integration=advertiser&amp;p_id=Twitter&amp;p_user_id=0&amp;pl_id=e4f797b0-bab1-45a7-b303-f96d6a87b2f9&amp;tw_document_href=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;tw_iframe_status=0&amp;tw_order_quantity=0&amp;tw_sale_amount=0&amp;txn_id=o5pi2&amp;type=javascript&amp;version=2.3.29" width="1"/><iframe height="0" id="universal_pixel_u0iai2i" src="https://insight.adsrvr.org/track/up?adv=4azo4ri&amp;ref=https%3A%2F%2Fplaid.com%2Fdocs%2Ftransfer%2Freconciling-transfers%2F&amp;upid=u0iai2i&amp;upv=1.1.0" title="TTD Universal Pixel" width="0"></iframe></body>